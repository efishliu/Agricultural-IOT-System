///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V8.10.1.10194/W32 for 8051        14/Jun/2016  16:50:07 /
// Copyright 2004-2011 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//    Source file        =  F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\FM1702SL\FM1702SL.c             /
//    Command line       =  -f F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂ /
//                          ç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack /
//                          \Utilities\SerialApp\CC2530DB\..\..\..\Tools\CC25 /
//                          30DB\f8wEndev.cfg (-DCPU32MHZ -DROOT=__near_func  /
//                          -DMAC_CFG_TX_DATA_MAX=3 -DMAC_CFG_TX_MAX=6        /
//                          -DMAC_CFG_RX_MAX=3) -f F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹ /
//                          âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2. /
//                          5.1a\Projects\zstack\Utilities\SerialApp\CC2530DB /
//                          \..\..\..\Tools\CC2530DB\f8wConfig.cfg            /
//                          (-DZIGBEEPRO -DSECURE=0 -DZG_SECURE_DYNAMIC=0     /
//                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800         /
//                          -DZDAPP_CONFIG_PAN_ID=0x1001                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DLINK_STATUS_JITTER_MASK=0x007F                  /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const    /
//                          __code" -DGENERIC=__generic                       /
//                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000       /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹ /
//                          âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2. /
//                          5.1a\Projects\zstack\Utilities\SerialApp\FM1702SL /
//                          \FM1702SL.c -D NWK_AUTO_POLL -D HAL_UART=TRUE -D  /
//                          SERIAL_APP_PORT=0 -D xPOWER_SAVING -D NV_INIT -D  /
//                          FM1702SL -lC F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210 /
//                          \ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Proje /
//                          cts\zstack\Utilities\SerialApp\CC2530DB\FM1702SL\ /
//                          List\ -lA F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\Zi /
//                          gBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects /
//                          \zstack\Utilities\SerialApp\CC2530DB\FM1702SL\Lis /
//                          t\ --diag_suppress Pe001,Pa010 -o                 /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\FM1702SL\Obj\ -e       /
//                          --no_code_motion --debug --core=plain             /
//                          --dptr=16,1 --data_model=large                    /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 16 -I                           /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\ -I                    /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\FM1702SL\ -I        /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\Public\ -I          /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\ZMain\TI2530D /
//                          B\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBee /
//                          ÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zst /
//                          ack\Utilities\SerialApp\CC2530DB\..\..\..\..\..\C /
//                          omponents\hal\include\ -I                         /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\hal\target\CC2530EB\ -I                       /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\mac\include\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ /
//                          ×ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1 /
//                          a\Projects\zstack\Utilities\SerialApp\CC2530DB\.. /
//                          \..\..\..\..\Components\mac\high_level\ -I        /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\mac\low_level\srf04\ -I                       /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\mac\low_level\srf04\single_chip\ -I           /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\mt\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\Z /
//                          igBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Project /
//                          s\zstack\Utilities\SerialApp\CC2530DB\..\..\..\.. /
//                          \..\Components\osal\include\ -I                   /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\services\saddr\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹ /
//                          âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2. /
//                          5.1a\Projects\zstack\Utilities\SerialApp\CC2530DB /
//                          \..\..\..\..\..\Components\services\sdata\ -I     /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\stack\af\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁ /
//                          Ï210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\P /
//                          rojects\zstack\Utilities\SerialApp\CC2530DB\..\.. /
//                          \..\..\..\Components\stack\nwk\ -I                /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\stack\sapi\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ× /
//                          ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a /
//                          \Projects\zstack\Utilities\SerialApp\CC2530DB\..\ /
//                          ..\..\..\..\Components\stack\sec\ -I              /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\stack\sys\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×Ê /
//                          ÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\ /
//                          Projects\zstack\Utilities\SerialApp\CC2530DB\..\. /
//                          .\..\..\..\Components\stack\zdo\ -I               /
//                          F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\..\..\..\..\..\Compone /
//                          nts\zmac\ -I F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210 /
//                          \ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Proje /
//                          cts\zstack\Utilities\SerialApp\CC2530DB\..\..\..\ /
//                          ..\..\Components\zmac\f8w\ -Ohz                   /
//                          --require_prototypes                              /
//    List file          =  F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\W /
//                          SN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Ut /
//                          ilities\SerialApp\CC2530DB\FM1702SL\List\FM1702SL /
//                          .s51                                              /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME FM1702SL

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN __INIT_XDATA_Z

        PUBLIC ??AntiColl?relay
        FUNCTION ??AntiColl?relay,0203H
        PUBLIC ??Authentication?relay
        FUNCTION ??Authentication?relay,0203H
        PUBLIC ??Check_UID?relay
        FUNCTION ??Check_UID?relay,0203H
        PUBLIC ??Clear_FIFO?relay
        FUNCTION ??Clear_FIFO?relay,0203H
        PUBLIC ??Command_Send?relay
        FUNCTION ??Command_Send?relay,0203H
        PUBLIC ??FM1702BusSel?relay
        FUNCTION ??FM1702BusSel?relay,0203H
        PUBLIC ??Fifo_Read?relay
        FUNCTION ??Fifo_Read?relay,0203H
        PUBLIC ??Fifo_Write?relay
        FUNCTION ??Fifo_Write?relay,0203H
        PUBLIC ??InitFM1702SL?relay
        FUNCTION ??InitFM1702SL?relay,0203H
        PUBLIC ??Judge_Req?relay
        FUNCTION ??Judge_Req?relay,0203H
        PUBLIC ??Load_key_CPY?relay
        FUNCTION ??Load_key_CPY?relay,0203H
        PUBLIC ??M500HostCodeKey?relay
        FUNCTION ??M500HostCodeKey?relay,0203H
        PUBLIC ??MIF_READ?relay
        FUNCTION ??MIF_READ?relay,0203H
        PUBLIC ??MIF_Write?relay
        FUNCTION ??MIF_Write?relay,0203H
        PUBLIC ??ReadCardNum?relay
        FUNCTION ??ReadCardNum?relay,0203H
        PUBLIC ??ReadReg?relay
        FUNCTION ??ReadReg?relay,0203H
        PUBLIC ??Request?relay
        FUNCTION ??Request?relay,0203H
        PUBLIC ??Select_Card?relay
        FUNCTION ??Select_Card?relay,0203H
        FUNCTION ??SerialApp_CallBack?relay,0203H
        PUBLIC ??SerialApp_Init?relay
        FUNCTION ??SerialApp_Init?relay,0203H
        PUBLIC ??SerialApp_OTAData?relay
        FUNCTION ??SerialApp_OTAData?relay,0203H
        PUBLIC ??SerialApp_ProcessEvent?relay
        FUNCTION ??SerialApp_ProcessEvent?relay,0203H
        FUNCTION ??SerialApp_ProcessMSGCmd?relay,0203H
        PUBLIC ??WriteReg?relay
        FUNCTION ??WriteReg?relay,0203H
        PUBLIC ??block_numset?relay
        FUNCTION ??block_numset?relay,0203H
        PUBLIC ??keyto?relay
        FUNCTION ??keyto?relay,0203H
        PUBLIC AntiColl
        FUNCTION AntiColl,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC Authentication
        FUNCTION Authentication,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC CardNo
        PUBLIC Check_UID
        FUNCTION Check_UID,0203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 11, STACK
        PUBLIC Clear_FIFO
        FUNCTION Clear_FIFO,021203H
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC Command_Send
        FUNCTION Command_Send,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 10, STACK
        PUBLIC FM1702BusSel
        FUNCTION FM1702BusSel,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC Fifo_Read
        FUNCTION Fifo_Read,021203H
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC Fifo_Write
        FUNCTION Fifo_Write,021203H
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 12, STACK
        PUBLIC InitFM1702SL
        FUNCTION InitFM1702SL,021203H
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC Judge_Req
        FUNCTION Judge_Req,0203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC Load_key_CPY
        FUNCTION Load_key_CPY,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC M500HostCodeKey
        FUNCTION M500HostCodeKey,0203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC MIF_READ
        FUNCTION MIF_READ,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC MIF_Write
        FUNCTION MIF_Write,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 11, STACK
        PUBWEAK P0DIR
        PUBWEAK P1DIR
        PUBLIC ReadCardNum
        FUNCTION ReadCardNum,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ReadReg
        FUNCTION ReadReg,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC Request
        FUNCTION Request,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC SampleApp_NwkState
        PUBLIC Select_Card
        FUNCTION Select_Card,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 3, STACK
        FUNCTION SerialApp_CallBack,021603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC SerialApp_ClusterList
        PUBLIC SerialApp_Init
        FUNCTION SerialApp_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        PUBLIC SerialApp_OTAData
        FUNCTION SerialApp_OTAData,021203H
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 19, STACK
        PUBLIC SerialApp_ProcessEvent
        FUNCTION SerialApp_ProcessEvent,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        FUNCTION SerialApp_ProcessMSGCmd,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 10, STACK
        PUBLIC SerialApp_SimpleDesc
        PUBLIC SerialApp_TaskID
        PUBLIC SerialApp_epDesc
        PUBLIC WriteReg
        FUNCTION WriteReg,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBWEAK _A_P0
        PUBWEAK _A_P1
        PUBLIC block_numset
        FUNCTION block_numset,0203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUBLIC keyto
        FUNCTION keyto,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP IDATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
        CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI V8 SameValue
        CFI V9 SameValue
        CFI V10 SameValue
        CFI V11 SameValue
        CFI V12 SameValue
        CFI V13 SameValue
        CFI V14 SameValue
        CFI V15 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
        
        CFI Common cfiCommon1 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-2
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B SameValue
        CFI A SameValue
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 SameValue
        CFI R1 SameValue
        CFI R2 SameValue
        CFI R3 SameValue
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI V8 SameValue
        CFI V9 SameValue
        CFI V10 SameValue
        CFI V11 SameValue
        CFI V12 SameValue
        CFI V13 SameValue
        CFI V14 SameValue
        CFI V15 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT SameValue
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon1
        
SPIOneByte          SYMBOL "SPIOneByte"
Onboard_wait        SYMBOL "Onboard_wait"
afRegister          SYMBOL "afRegister"
RegisterForKeys     SYMBOL "RegisterForKeys"
HalUARTInitSPI      SYMBOL "HalUARTInitSPI"
HalUARTOpen         SYMBOL "HalUARTOpen"
osal_start_timerEx  SYMBOL "osal_start_timerEx"
HalLedSet           SYMBOL "HalLedSet"
HalLedBlink         SYMBOL "HalLedBlink"
osal_set_event      SYMBOL "osal_set_event"
osal_msg_deallocate SYMBOL "osal_msg_deallocate"
osal_msg_receive    SYMBOL "osal_msg_receive"
AF_DataRequest      SYMBOL "AF_DataRequest"
HalUARTRead         SYMBOL "HalUARTRead"
??AF_DataRequest?relay SYMBOL "?relay", AF_DataRequest
??HalLedBlink?relay SYMBOL "?relay", HalLedBlink
??HalLedSet?relay   SYMBOL "?relay", HalLedSet
??HalUARTInitSPI?relay SYMBOL "?relay", HalUARTInitSPI
??HalUARTOpen?relay SYMBOL "?relay", HalUARTOpen
??HalUARTRead?relay SYMBOL "?relay", HalUARTRead
??Onboard_wait?relay SYMBOL "?relay", Onboard_wait
??RegisterForKeys?relay SYMBOL "?relay", RegisterForKeys
??SPIOneByte?relay  SYMBOL "?relay", SPIOneByte
??afRegister?relay  SYMBOL "?relay", afRegister
??osal_msg_deallocate?relay SYMBOL "?relay", osal_msg_deallocate
??osal_msg_receive?relay SYMBOL "?relay", osal_msg_receive
??osal_set_event?relay SYMBOL "?relay", osal_set_event
??osal_start_timerEx?relay SYMBOL "?relay", osal_start_timerEx
AntiColl            SYMBOL "AntiColl"
??AntiColl?relay    SYMBOL "?relay", AntiColl
Authentication      SYMBOL "Authentication"
??Authentication?relay SYMBOL "?relay", Authentication
Check_UID           SYMBOL "Check_UID"
??Check_UID?relay   SYMBOL "?relay", Check_UID
Clear_FIFO          SYMBOL "Clear_FIFO"
??Clear_FIFO?relay  SYMBOL "?relay", Clear_FIFO
Command_Send        SYMBOL "Command_Send"
??Command_Send?relay SYMBOL "?relay", Command_Send
FM1702BusSel        SYMBOL "FM1702BusSel"
??FM1702BusSel?relay SYMBOL "?relay", FM1702BusSel
Fifo_Read           SYMBOL "Fifo_Read"
??Fifo_Read?relay   SYMBOL "?relay", Fifo_Read
Fifo_Write          SYMBOL "Fifo_Write"
??Fifo_Write?relay  SYMBOL "?relay", Fifo_Write
InitFM1702SL        SYMBOL "InitFM1702SL"
??InitFM1702SL?relay SYMBOL "?relay", InitFM1702SL
Judge_Req           SYMBOL "Judge_Req"
??Judge_Req?relay   SYMBOL "?relay", Judge_Req
Load_key_CPY        SYMBOL "Load_key_CPY"
??Load_key_CPY?relay SYMBOL "?relay", Load_key_CPY
M500HostCodeKey     SYMBOL "M500HostCodeKey"
??M500HostCodeKey?relay SYMBOL "?relay", M500HostCodeKey
MIF_READ            SYMBOL "MIF_READ"
??MIF_READ?relay    SYMBOL "?relay", MIF_READ
MIF_Write           SYMBOL "MIF_Write"
??MIF_Write?relay   SYMBOL "?relay", MIF_Write
ReadCardNum         SYMBOL "ReadCardNum"
??ReadCardNum?relay SYMBOL "?relay", ReadCardNum
ReadReg             SYMBOL "ReadReg"
??ReadReg?relay     SYMBOL "?relay", ReadReg
Request             SYMBOL "Request"
??Request?relay     SYMBOL "?relay", Request
Select_Card         SYMBOL "Select_Card"
??Select_Card?relay SYMBOL "?relay", Select_Card
SerialApp_Init      SYMBOL "SerialApp_Init"
??SerialApp_Init?relay SYMBOL "?relay", SerialApp_Init
SerialApp_OTAData   SYMBOL "SerialApp_OTAData"
??SerialApp_OTAData?relay SYMBOL "?relay", SerialApp_OTAData
SerialApp_ProcessEvent SYMBOL "SerialApp_ProcessEvent"
??SerialApp_ProcessEvent?relay SYMBOL "?relay", SerialApp_ProcessEvent
WriteReg            SYMBOL "WriteReg"
??WriteReg?relay    SYMBOL "?relay", WriteReg
block_numset        SYMBOL "block_numset"
??block_numset?relay SYMBOL "?relay", block_numset
keyto               SYMBOL "keyto"
??keyto?relay       SYMBOL "?relay", keyto

        EXTERN SPIOneByte
        FUNCTION SPIOneByte,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN Onboard_wait
        FUNCTION Onboard_wait,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afRegister
        FUNCTION afRegister,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN RegisterForKeys
        FUNCTION RegisterForKeys,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTInitSPI
        FUNCTION HalUARTInitSPI,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTOpen
        FUNCTION HalUARTOpen,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedSet
        FUNCTION HalLedSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedBlink
        FUNCTION HalLedBlink,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_set_event
        FUNCTION osal_set_event,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN AF_DataRequest
        FUNCTION AF_DataRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTRead
        FUNCTION HalUARTRead,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ??AF_DataRequest?relay
        FUNCTION ??AF_DataRequest?relay,00H
        EXTERN ??HalLedBlink?relay
        FUNCTION ??HalLedBlink?relay,00H
        EXTERN ??HalLedSet?relay
        FUNCTION ??HalLedSet?relay,00H
        EXTERN ??HalUARTInitSPI?relay
        FUNCTION ??HalUARTInitSPI?relay,00H
        EXTERN ??HalUARTOpen?relay
        FUNCTION ??HalUARTOpen?relay,00H
        EXTERN ??HalUARTRead?relay
        FUNCTION ??HalUARTRead?relay,00H
        EXTERN ??Onboard_wait?relay
        FUNCTION ??Onboard_wait?relay,00H
        EXTERN ??RegisterForKeys?relay
        FUNCTION ??RegisterForKeys?relay,00H
        EXTERN ??SPIOneByte?relay
        FUNCTION ??SPIOneByte?relay,00H
        EXTERN ??afRegister?relay
        FUNCTION ??afRegister?relay,00H
        EXTERN ??osal_msg_deallocate?relay
        FUNCTION ??osal_msg_deallocate?relay,00H
        EXTERN ??osal_msg_receive?relay
        FUNCTION ??osal_msg_receive?relay,00H
        EXTERN ??osal_set_event?relay
        FUNCTION ??osal_set_event?relay,00H
        EXTERN ??osal_start_timerEx?relay
        FUNCTION ??osal_start_timerEx?relay,00H

// F:\¹âÅÌ×ÊÁÏ\ETC-WSNÎïÁªÍø¹âÅÌ×ÊÁÏ210\ZigBeeÍøÂç\WSN-CSÔ´Âë\ZStack-CC2530-2.5.1a\Projects\zstack\Utilities\SerialApp\FM1702SL\FM1702SL.c
//    1 /**************************************************************************************************
//    2   Filename:       SerialApp.c
//    3   Revised:        $Date: 2009-03-29 10:51:47 -0700 (Sun, 29 Mar 2009) $
//    4   Revision:       $Revision: 19585 $
//    5 
//    6   Description -   Serial Transfer Application (no Profile).
//    7 
//    8 
//    9   Copyright 2004-2009 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License").  You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product.  Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com. 
//   38 **************************************************************************************************/
//   39 
//   40 #include "AF.h"
//   41 #include "OnBoard.h"

        ASEGN SFR_AN:DATA:NOROOT,080H
// union <unnamed> volatile __sfr _A_P0
_A_P0:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,090H
// union <unnamed> volatile __sfr _A_P1
_A_P1:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0fdH
// unsigned char volatile __sfr P0DIR
P0DIR:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0feH
// unsigned char volatile __sfr P1DIR
P1DIR:
        DATA8
        DS 1
//   42 #include "OSAL_Tasks.h"
//   43 #include "ZDApp.h"
//   44 #include "ZDObject.h"
//   45 #include "ZDProfile.h"
//   46 
//   47 #include "hal_drivers.h"
//   48 #include "hal_key.h"
//   49 #if defined ( LCD_SUPPORTED )
//   50   #include "hal_lcd.h"
//   51 #endif
//   52 #include "hal_led.h"
//   53 #include "hal_uart.h"
//   54 #include "Public.h"
//   55 #include "fm1702sl.h"
//   56 #include "spi.h"
//   57 
//   58 /*********************************************************************
//   59  * MACROS
//   60  */
//   61 
//   62 /*********************************************************************
//   63  * CONSTANTS
//   64  */
//   65 
//   66 #if !defined( SERIAL_APP_PORT )
//   67 #define SERIAL_APP_PORT  0
//   68 #endif
//   69 
//   70 #if !defined( SERIAL_APP_BAUD )
//   71 #define SERIAL_APP_BAUD  HAL_UART_BR_19200
//   72 #endif
//   73 
//   74 // When the Rx buf space is less than this threshold, invoke the Rx callback.
//   75 #if !defined( SERIAL_APP_THRESH )
//   76 #define SERIAL_APP_THRESH  64
//   77 #endif
//   78 
//   79 #if !defined( SERIAL_APP_RX_SZ )
//   80 #define SERIAL_APP_RX_SZ  128
//   81 #endif
//   82 
//   83 #if !defined( SERIAL_APP_TX_SZ )
//   84 #define SERIAL_APP_TX_SZ  128
//   85 #endif
//   86 
//   87 // Millisecs of idle time after a byte is received before invoking Rx callback.
//   88 #if !defined( SERIAL_APP_IDLE )
//   89 #define SERIAL_APP_IDLE  6
//   90 #endif
//   91 
//   92 // Loopback Rx bytes to Tx for throughput testing.
//   93 #if !defined( SERIAL_APP_LOOPBACK )
//   94 #define SERIAL_APP_LOOPBACK  FALSE
//   95 #endif
//   96 
//   97 // This is the max byte count per OTA message.
//   98 #if !defined( SERIAL_APP_TX_MAX )
//   99 #define SERIAL_APP_TX_MAX  20
//  100 #endif
//  101 
//  102 #define SERIAL_APP_RSP_CNT  4
//  103 #define M1AREA 		0x01     //Òª²Ù×÷µÄÉÈÇøºÅ
//  104  
//  105 
//  106 // This list should be filled with Application specific Cluster IDs.

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
//  107 const cId_t SerialApp_ClusterList[SERIALAPP_MAX_CLUSTERS] =
SerialApp_ClusterList:
        DATA16
        DW 1
        DW 2
//  108 {
//  109   SERIALAPP_CLUSTERID1,
//  110   SERIALAPP_CLUSTERID2
//  111 };
//  112 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//  113 const SimpleDescriptionFormat_t SerialApp_SimpleDesc =
SerialApp_SimpleDesc:
        DB 11
        DATA16
        DW 3845
        DW 1
        DATA8
        DB 0
        DB 2
        DATA16
        DW SerialApp_ClusterList
        DATA8
        DB 2
        DATA16
        DW SerialApp_ClusterList
//  114 {
//  115   SERIALAPP_ENDPOINT,              //  int   Endpoint;
//  116   SERIALAPP_PROFID,                //  uint16 AppProfId[2];
//  117   SERIALAPP_DEVICEID,              //  uint16 AppDeviceId[2];
//  118   SERIALAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
//  119   SERIALAPP_FLAGS,                 //  int   AppFlags:4;
//  120   SERIALAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
//  121   (cId_t *)SerialApp_ClusterList,  //  byte *pAppInClusterList;
//  122   SERIALAPP_MAX_CLUSTERS,          //  byte  AppNumOutClusters;
//  123   (cId_t *)SerialApp_ClusterList   //  byte *pAppOutClusterList;
//  124 };
//  125 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//  126 const endPointDesc_t SerialApp_epDesc =
SerialApp_epDesc:
        DB 11
        DATA16
        DW SerialApp_TaskID
        DW SerialApp_SimpleDesc
        DATA8
        DB 0
//  127 {
//  128   SERIALAPP_ENDPOINT,
//  129  &SerialApp_TaskID,
//  130   (SimpleDescriptionFormat_t *)&SerialApp_SimpleDesc,
//  131   noLatencyReqs
//  132 };
//  133 
//  134 /*********************************************************************
//  135  * TYPEDEFS
//  136  */
//  137 
//  138 /*********************************************************************
//  139  * GLOBAL VARIABLES
//  140  */
//  141 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  142 uint8 SerialApp_TaskID;    // Task ID for internal task/event processing.
SerialApp_TaskID:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  143 devStates_t  SampleApp_NwkState;
SampleApp_NwkState:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  144 static UART_Format UART0_Format;
UART0_Format:
        DS 16
        REQUIRE __INIT_XDATA_Z
//  145 
//  146 /*********************************************************************
//  147  * EXTERNAL VARIABLES
//  148  */
//  149 
//  150 /*********************************************************************
//  151  * EXTERNAL FUNCTIONS
//  152  */
//  153 
//  154 /*********************************************************************
//  155  * LOCAL VARIABLES
//  156  */
//  157 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  158 static uint8 SerialApp_MsgID;
SerialApp_MsgID:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  159 static afAddrType_t SerialApp_TxAddr;
SerialApp_TxAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  160 static uint8 SerialApp_TxBuf[SERIAL_APP_TX_MAX];
SerialApp_TxBuf:
        DS 20
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  161 static uint8 SerialApp_TxLen;
SerialApp_TxLen:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  162 static uint8 RevBuffer[24];
RevBuffer:
        DS 24
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  163 uint8  CardNo[5];
CardNo:
        DS 5
        REQUIRE __INIT_XDATA_Z
//  164 /*********************************************************************
//  165  * LOCAL FUNCTIONS
//  166  */
//  167 
//  168 static void SerialApp_ProcessMSGCmd( afIncomingMSGPacket_t *pkt );
//  169 void SerialApp_OTAData(afAddrType_t *txaddr,uint8 ID,void *p,uint8 len);
//  170 static void SerialApp_CallBack(uint8 port, uint8 event);
//  171 static void GPIOInit(void);
//  172 void  WriteReg(int8 reg, int8 data);
//  173 int8  ReadReg(int8 reg_ad);
//  174 void  InitFM1702SL(void);
//  175 uint8 Request(uint8 mode);
//  176 void  Fifo_Write(uint8 *s, uint8 count);
//  177 uint8 FM1702BusSel(void);
//  178 uint8 Clear_FIFO(void);
//  179 uint8 Fifo_Read(uint8 *buff);
//  180 uint8 Command_Send(uint8 count, uint8 *buff, uint8 Comm_Set);
//  181 uint8 Judge_Req(uint8 *buff);
//  182 uint8 ReadCardNum(void);
//  183 uint8 AntiColl(void);
//  184 uint8 Check_UID(void);
//  185 uint8 Select_Card(void);
//  186 void  keyto(void);
//  187 uint8 block_numset(uint8 block_num);
//  188 uint8 Load_key_CPY(uint8 *buff);
//  189 int8  M500HostCodeKey(uint8 *uncoded, uint8 *coded);   
//  190 uint8 Authentication(uint8 *UID, uint8 SecNR);
//  191 uint8 MIF_READ(uint8 *buff, uint8 Block_Adr);
//  192 uint8 MIF_Write(uint8 *buff, uint8 Block_Adr);
//  193 
//  194 static void GPIOInit(void)
//  195 {
//  196   P1DIR |= 0x04;  //P12  output
//  197   P0DIR |= 0x01;  //P00
//  198   BEEP = 0;
//  199 }
//  200 
//  201 //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//
//  202 //Ãû³Æ: rc531_register_write                                                   // 
//  203 //¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÍ¨¹ýSPI½Ó¿Ú¶ÔRC531ÖÐÒ»¸ö¼Ä´æÆ÷Ð´ÈëÖµ                         // 
//  204 //                                                                             // 
//  205 //ÊäÈë:                                                                        // 
//  206 //     RC531Ä¿±ê¼Ä´æÆ÷µØÖ·ºÍÐ´ÈëÖµ                                             // 
//  207 //                                                                             // 
//  208 //Êä³ö:                                                                        // 
//  209 //     N/A                                                                     // 
//  210 //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  211 void WriteReg(int8 reg_ad, int8 reg_data)
WriteReg:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function WriteReg
        CODE
//  212 {   
        FUNCALL WriteReg, SPIOneByte
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL WriteReg, SPIOneByte
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R7,A
        MOV     A,R2
        MOV     R6,A
//  213     sck=0;                               //Ê±ÖÓ
        CLR     0x90.5
//  214     reg_ad <<= 1;
//  215     cs=0;                              //½Ó¿ÚÑ¡Í¨
        CLR     0x90.4
//  216     reg_ad &= 0x7F;                      //×î¸ßÎ»Îª0±íÊ¾Ð´
//  217     SPIOneByte(reg_ad);     //Ð´µØÖ·
        ; Setup parameters for call to function SPIOneByte
        MOV     A,R7
        CLR     C
        RLC     A
        ANL     A,#0x7f
        MOV     R1,A
        LCALL   ??SPIOneByte?relay
//  218     SPIOneByte(reg_data);  //Ð´Êý¾Ý
        ; Setup parameters for call to function SPIOneByte
        MOV     A,R6
        MOV     R1,A
        LJMP    ?Subroutine0 & 0xFFFF
        CFI EndBlock cfiBlock0
        REQUIRE _A_P1
//  219     cs=1;
//  220     return;
//  221 }
//  222 
//  223 //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//
//  224 //Ãû³Æ: rc531_register_read                                                    // 
//  225 //¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÍ¨¹ýSPI½Ó¿Ú¶ÁÈ¡RC531ÖÐÒ»¸ö¼Ä´æÆ÷µÄÖµ                         // 
//  226 //                                                                             // 
//  227 //ÊäÈë:                                                                        // 
//  228 //     RC531Ä¿±ê¼Ä´æÆ÷µØÖ·                                                     // 
//  229 //                                                                             // 
//  230 //Êä³ö:                                                                        // 
//  231 //     Ä¿±ê¼Ä´æÆ÷µÄÖµ                                                          // 
//  232 //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  233 int8 ReadReg(int8 reg_ad)
ReadReg:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function ReadReg
        CODE
//  234 {   
        FUNCALL ReadReg, Onboard_wait
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadReg, SPIOneByte
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadReg, SPIOneByte
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  235   int8 temp;
//  236   sck=0;       //Ê±ÖÓ
        CLR     0x90.5
//  237   MicroWait(6);
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#0x6
        MOV     R3,#0x0
        LCALL   ??Onboard_wait?relay
//  238   cs=0;      //½Ó¿ÚÑ¡Í¨¿ª
        CLR     0x90.4
//  239   reg_ad <<= 1;                          //reg_ad×óÒÆÒ»Î»¸¶Öµ¸øreg_ad
//  240   reg_ad |= 0x80;                        //reg_ad¸ú¡°0X80¡±»òÔËËãºó¸¶Öµ¸øreg_ad   ×î¸ßÎ»Îª1±íÊ¾¶Á
//  241   SPIOneByte(reg_ad);
        ; Setup parameters for call to function SPIOneByte
        MOV     A,R6
        CLR     C
        RLC     A
        ORL     A,#0x80
        MOV     R1,A
        LCALL   ??SPIOneByte?relay
//  242   temp=SPIOneByte(0x00);
        ; Setup parameters for call to function SPIOneByte
        MOV     R1,#0x0
        LJMP    ?Subroutine0 & 0xFFFF
        CFI EndBlock cfiBlock1
        REQUIRE _A_P1
//  243   cs=1;
//  244   return (temp);
//  245 }
//  246 /*×ÜÏßÑ¡Ôñ*/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  247 uint8 FM1702BusSel(void)
FM1702BusSel:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function FM1702BusSel
        CODE
//  248 {
        FUNCALL FM1702BusSel, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL FM1702BusSel, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL FM1702BusSel, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  249   uint8 i, temp;
//  250   WriteReg(PageSel, 0x80); //Ñ¡Ôñ¼Ä´æÆ÷×é0
        ; Setup parameters for call to function WriteReg
        MOV     R2,#-0x80
        MOV     R1,#0x0
        LCALL   ??WriteReg?relay
//  251   for(i = 0; i < 0xff; i++)
        MOV     R6,#0x0
//  252   {
//  253     temp = ReadReg(RFIDCommand); //¶ÁÈ¡ÕýÔÚÖ´ÐÐµÄÃüÁî
//  254     if(temp == 0x00)	//Èç¹ûÃ»ÓÐÖ¸ÁîÖ´ÐÐ
??FM1702BusSel_0:
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x1
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_26:
        JNZ     ??FM1702BusSel_1
//  255     {	
//  256       WriteReg(PageSel,0x00); //»Ö¸´¼Ä´æÆ÷µÄÏßÐÔÑ°Ö·
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x0
        MOV     R1,#0x0
        LCALL   ??WriteReg?relay
//  257       return TRUE;	
        MOV     R1,#0x1
        SJMP    ??FM1702BusSel_2
//  258     }
//  259   }
??FM1702BusSel_1:
        INC     R6
        MOV     A,#-0x1
        XRL     A,R6
        JNZ     ??FM1702BusSel_0
//  260   return FALSE;
        MOV     R1,#0x0
??FM1702BusSel_2:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock2
//  261 }
//  262 
//  263 /*********************************************************/
//  264 //½âÊÍ£ºFIFO»º³åÆ÷µÄÐ´º¯Êý
//  265 //ÊäÈë£ºÐ´ÈëµÄ×Ö½Ú¸öÊý £¬ÒªÐ´ÈëµÄÖµµÄ´æ·ÅÊ×µØÖ· 
//  266 //Êä³ö£º
//  267 /********************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  268 void Fifo_Write(uint8 *s, uint8 count)
Fifo_Write:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function Fifo_Write
        CODE
//  269 {
        FUNCALL Fifo_Write, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Fifo_Write, Onboard_wait
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 3,R1
//  270   uint8 i,temp;
//  271   for(i=0;i<count;i++)
        MOV     ?V0 + 2,#0x0
        SJMP    ??Fifo_Write_0
//  272   {
//  273     temp=*(s+i);
//  274     WriteReg(FIFODaTa, temp);
??Fifo_Write_1:
        ; Setup parameters for call to function WriteReg
        MOV     ?V0 + 0,?V0 + 2
        MOV     A,R6
        ADD     A,?V0 + 0
        MOV     DPL,A
        MOV     A,R7
        LCALL   ??Subroutine24_0 & 0xFFFF
??CrossCallReturnLabel_43:
        MOV     R2,A
        MOV     R1,#0x2
        LCALL   ??WriteReg?relay
//  275     MicroWait(100);
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#0x64
        MOV     R3,#0x0
        LCALL   ??Onboard_wait?relay
//  276   }
        INC     ?V0 + 2
??Fifo_Write_0:
        MOV     A,?V0 + 2
        CLR     C
        SUBB    A,?V0 + 3
        JC      ??Fifo_Write_1
        CFI EndBlock cfiBlock3
//  277 }
        REQUIRE ?Subroutine1
        ; // Fall through to label ?Subroutine1

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine1:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock4
//  278 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  279 uint8 Fifo_Read(uint8 *buff)
Fifo_Read:
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function Fifo_Read
        CODE
//  280 {
        FUNCALL Fifo_Read, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Fifo_Read, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  281   uint8	temp;
//  282   uint8	i;
//  283   temp = ReadReg(FIFOLength);
        ; Setup parameters for call to function ReadReg
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_21:
        MOV     ?V0 + 2,A
//  284   if(temp == 0)
        JNZ     ??Fifo_Read_0
//  285   {
//  286     return 0;
        MOV     R1,#0x0
        SJMP    ??Fifo_Read_1
//  287   }
//  288   if(temp >= 24)		
??Fifo_Read_0:
        CLR     C
        SUBB    A,#0x18
        JC      ??Fifo_Read_2
//  289   {
//  290     temp = 24;	
        MOV     ?V0 + 2,#0x18
//  291   }
//  292   for(i = 0; i < temp; i++)
??Fifo_Read_2:
        MOV     ?V0 + 3,#0x0
        SJMP    ??Fifo_Read_3
//  293   {
//  294     *(buff + i) = ReadReg(FIFODaTa);
??Fifo_Read_4:
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x2
        LCALL   ??ReadReg?relay
        MOV     ?V0 + 0,?V0 + 3
        MOV     A,R6
        ADD     A,?V0 + 0
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R1
        MOVX    @DPTR,A
//  295   }
        INC     ?V0 + 3
??Fifo_Read_3:
        MOV     A,?V0 + 3
        CLR     C
        SUBB    A,?V0 + 2
        JC      ??Fifo_Read_4
//  296   return temp;  
        MOV     R1,?V0 + 2
??Fifo_Read_1:
        SJMP    ?Subroutine1
        CFI EndBlock cfiBlock5
//  297 }
//  298 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  299 uint8 Judge_Req(uint8 *buff)
Judge_Req:
        CFI Block cfiBlock6 Using cfiCommon0
        CFI Function Judge_Req
        CODE
//  300 {
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  301   uint8	temp1, temp2;
//  302   temp1 = *buff;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R0,A
//  303   temp2 = *(buff + 1);
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
//  304   if((temp1 == 0x02) || (temp1 == 0x04) || (temp1 == 0x05) || (temp1 == 0x53) || (temp1 == 0x03))
        MOV     A,#0x2
        XRL     A,R0
        JZ      ??Judge_Req_0
        MOV     A,#0x4
        XRL     A,R0
        JZ      ??Judge_Req_0
        MOV     A,#0x5
        XRL     A,R0
        JZ      ??Judge_Req_0
        MOV     A,#0x53
        XRL     A,R0
        JZ      ??Judge_Req_0
        MOV     A,#0x3
        XRL     A,R0
        JNZ     ??Judge_Req_1
//  305   {
//  306     if (temp2 == 0x00)
??Judge_Req_0:
        MOV     A,R1
        JNZ     ??Judge_Req_1
//  307     {
//  308       return TRUE;
        MOV     R1,#0x1
        SJMP    ??Judge_Req_2
//  309     }
//  310   }
//  311   return FALSE;
??Judge_Req_1:
        MOV     R1,#0x0
??Judge_Req_2:
        LJMP    ?Subroutine2 & 0xFFFF
        CFI EndBlock cfiBlock6
//  312 }
//  313 /////////////////////////////////////////////////////////

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  314 void InitFM1702SL(void)
InitFM1702SL:
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function InitFM1702SL
        CODE
//  315 {
        FUNCALL InitFM1702SL, Onboard_wait
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, Onboard_wait
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, Onboard_wait
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, ReadReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, FM1702BusSel
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL InitFM1702SL, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  316   FM1702_RSTPD=1;
        SETB    0x90.2
//  317   MicroWait(150);			
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#-0x6a
        MOV     R3,#0x0
        LCALL   ??Onboard_wait?relay
//  318   FM1702_RSTPD=0;				 
        CLR     0x90.2
//  319   MicroWait(150);	//¸´Î»1702SL
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#-0x6a
        SJMP    ??InitFM1702SL_0
//  320     	
//  321   while(ReadReg(RFIDCommand) != 0)
//  322   {
//  323     MicroWait(10); 
??InitFM1702SL_1:
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#0xa
??InitFM1702SL_0:
        MOV     R3,#0x0
        LCALL   ??Onboard_wait?relay
//  324   }
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x1
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_27:
        JNZ     ??InitFM1702SL_1
//  325   FM1702BusSel();  
        ; Setup parameters for call to function FM1702BusSel
        LCALL   ??FM1702BusSel?relay
//  326   WriteReg(InterruptEn,0x7f);		     
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x7f
        MOV     R1,#0x6
        LCALL   ??WriteReg?relay
//  327   WriteReg(InterruptRq,0x7f);            	
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x7f
        MOV     R1,#0x7
        LCALL   ?Subroutine8 & 0xFFFF
//  328   WriteReg(TxControl,0x5b);	
//  329   WriteReg(RxControl2,0x01);
??CrossCallReturnLabel_0:
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x1
        MOV     R1,#0x1e
        LCALL   ??WriteReg?relay
//  330   WriteReg(RxWait,0x07);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x7
        MOV     R1,#0x21
        LCALL   ??WriteReg?relay
//  331   WriteReg(CryptoSelect,0x00);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x0
        MOV     R1,#0x31
        LCALL   ??WriteReg?relay
//  332 }  
        LJMP    ?Subroutine2 & 0xFFFF
        CFI EndBlock cfiBlock7
        REQUIRE _A_P1
//  333 
//  334 /****************************************************************/
//  335 /*Ãû³Æ: Clear_FIFO */
//  336 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÇå¿ÕFM1715ÖÐFIFOµÄÊý¾Ý*/
//  337 /*ÊäÈë: N/A */
//  338 /*Êä³ö: TRUE, FIFO±»Çå¿Õ */
//  339 /* FALSE, FIFOÎ´±»Çå¿Õ */
//  340 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  341 uint8 Clear_FIFO(void)
Clear_FIFO:
        CFI Block cfiBlock8 Using cfiCommon0
        CFI Function Clear_FIFO
        CODE
//  342 {
        FUNCALL Clear_FIFO, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Clear_FIFO, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Clear_FIFO, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  343   uint8  temp;
//  344   uint16 i;
//  345   temp = ReadReg(Control);
//  346   temp = (temp | 0x01);
//  347   WriteReg(Control, temp);
        ; Setup parameters for call to function WriteReg
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x9
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_28:
        ORL     A,#0x1
        MOV     R2,A
        MOV     R1,#0x9
        LCALL   ??WriteReg?relay
//  348   for(i = 0; i < RF_TimeOut; i++) //¼ì²éFIFOÊÇ·ñ±»Çå¿Õ
        MOV     R6,#-0x1
        MOV     R7,#0xf
//  349   {
//  350     temp = ReadReg(FIFOLength);
//  351     if(temp == 0)
??Clear_FIFO_0:
        ; Setup parameters for call to function ReadReg
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_22:
        JNZ     ??Clear_FIFO_1
//  352     {
//  353       return TRUE;
        MOV     R1,#0x1
        SJMP    ??Clear_FIFO_2
//  354     }
//  355   }
??Clear_FIFO_1:
        LCALL   ?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_8:
        JNZ     ??Clear_FIFO_0
//  356   return FALSE;
        MOV     R1,#0x0
??Clear_FIFO_2:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock8
//  357 }
//  358 /****************************************************************/
//  359 /*Ãû³Æ: Command_Send */
//  360 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÏòFM1715·¢ËÍÃüÁî¼¯µÄ¹¦ÄÜ */
//  361 /*ÊäÈë: count, ´ý·¢ËÍÃüÁî¼¯µÄ³¤¶È*/
//  362 /* buff, Ö¸Ïò´ý·¢ËÍÊý¾ÝµÄÖ¸Õë */
//  363 /* Comm_Set, ÃüÁîÂë */
//  364 /*Êä³ö: TRUE, ÃüÁî±»ÕýÈ·Ö´ÐÐ*/
//  365 /* FALSE, ÃüÁîÖ´ÐÐ´íÎó*/
//  366 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  367 uint8 Command_Send(uint8 count, uint8 *buff, uint8 Comm_Set)
Command_Send:
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function Command_Send
        CODE
//  368 {
        FUNCALL Command_Send, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Command_Send, Clear_FIFO
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Command_Send, Fifo_Write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Command_Send, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Command_Send, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV     ?V0 + 1,R1
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 0,R4
//  369 	uint16   j;
//  370 	uint8  temp;
//  371 	WriteReg(RFIDCommand,0x00);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x0
        MOV     R1,#0x1
        LCALL   ??WriteReg?relay
//  372 	Clear_FIFO();
        ; Setup parameters for call to function Clear_FIFO
        LCALL   ??Clear_FIFO?relay
//  373 	Fifo_Write(buff, count);   //°Ñ26HÐ´ÈëFIFO
        ; Setup parameters for call to function Fifo_Write
        MOV     R1,?V0 + 1
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??Fifo_Write?relay
//  374 	WriteReg(RFIDCommand,Comm_Set);		/* ÃüÁîÖ´ÐÐ */
        ; Setup parameters for call to function WriteReg
        MOV     R2,?V0 + 0
        MOV     R1,#0x1
        LCALL   ??WriteReg?relay
//  375 	for(j = 0; j < RF_TimeOut; j++) /* ¼ì²éÃüÁîÖ´ÐÐ·ñ */
        MOV     R6,#-0x1
        MOV     R7,#0xf
//  376 	{
//  377 	  temp = ReadReg(RFIDCommand);
//  378 	  if(temp == 0x00)//Èç¹ûTEMPÎªÕæÖ´ÐÐIFÓï¾ä£¬·ñÔòÍË³öIFÓï¾ä
??Command_Send_0:
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x1
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_29:
        JNZ     ??Command_Send_1
//  379 	  {
//  380 	    return TRUE;//ÍË³öFORÓï¾ä£¨´ø²ÎÊý·µ»Ø£©
        MOV     R1,#0x1
        SJMP    ??Command_Send_2
//  381 	  }
//  382 	}
??Command_Send_1:
        LCALL   ?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_9:
        JNZ     ??Command_Send_0
//  383 	return FALSE;
        MOV     R1,#0x0
        CFI EndBlock cfiBlock9
??Command_Send_2:
        REQUIRE ?Subroutine3
        ; // Fall through to label ?Subroutine3
//  384 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine3:
        CFI Block cfiBlock10 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock10

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine14:
        CFI Block cfiCond11 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_8
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond12 Using cfiCommon0
        CFI (cfiCond12) NoFunction
        CFI (cfiCond12) Conditional ??CrossCallReturnLabel_9
        CFI (cfiCond12) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond12) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond12) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond12) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond12) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond12) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond12) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond12) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond12) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond12) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond12) CFA_SP SP+0
        CFI (cfiCond12) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiPicker13 Using cfiCommon1
        CFI (cfiPicker13) NoFunction
        CFI (cfiPicker13) Picker
        MOV     A,R6
        ADD     A,#-0x1
        DEC     R6
        MOV     A,R7
        ADDC    A,#-0x1
        MOV     R7,A
        MOV     A,R6
        ORL     A,R7
        RET
        CFI EndBlock cfiCond11
        CFI EndBlock cfiCond12
        CFI EndBlock cfiPicker13
//  385 
//  386 //AÃÜÂëµÄ¼ÓÃÜ¸ñÊ½£º00 4¸ö×Ö½ÚµÄÐòÁÐºÅ ¿éºÅ£¨ÉÈÇøºÅ£©£¬¹²6¸ö×Ö½ÚµÄÃÜÔ¿

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  387 void keyto(void)
keyto:
        CFI Block cfiBlock14 Using cfiCommon0
        CFI Function keyto
        CODE
//  388 {
        FUNCALL keyto, block_numset
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  389   uint8 i;
//  390   RevBuffer[4] = block_numset(3);
        ; Setup parameters for call to function block_numset
        MOV     R1,#0x3
        LCALL   ??block_numset?relay
        MOV     A,R1
        MOV     DPTR,#RevBuffer + 4
        MOVX    @DPTR,A
//  391   for(i = 0; i < 7; i++)
//  392     RevBuffer[5 + i] = 0xff;		//Ä¬ÈÏÃÜÂë
        MOV     A,#-0x1
        INC     DPTR
        MOV     R0,#0x7
??keyto_0:
        MOVX    @DPTR,A
        INC     DPTR
        DJNZ    R0,??keyto_0
//  393 }
        LJMP    ?Subroutine2 & 0xFFFF
        CFI EndBlock cfiBlock14
//  394 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  395 uint8 block_numset(uint8 block_num)
block_numset:
        CFI Block cfiBlock15 Using cfiCommon0
        CFI Function block_numset
        CODE
//  396 { 	
        ; Saved register size: 0
        ; Auto size: 0
        MOV     A,R1
        MOV     R0,A
//  397   unsigned char temp,i;
//  398   i = M1AREA;
//  399   temp = block_num;
//  400   while(i)
//  401   {
//  402     temp=temp+4;
//  403     i--;
//  404   }
//  405   return temp;
        MOV     A,#0x4
        ADD     A,R0
        MOV     R1,A
        LJMP    ?BRET
        CFI EndBlock cfiBlock15
//  406 }
//  407 /****************************************************************/
//  408 /*Ãû³Æ: Request */
//  409 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ¶Ô·ÅÈëFM1702²Ù×÷·¶Î§Ö®ÄÚµÄ¿¨Æ¬µÄRequest²Ù×÷*/
//  410 /*ÊäÈë: mode: ALL(¼à²âËùÒÔFM1702²Ù×÷·¶Î§Ö®ÄÚµÄ¿¨Æ¬) */
//  411 /* STD(¼à²âÔÚFM1702²Ù×÷·¶Î§Ö®ÄÚ´¦ÓÚHALT×´Ì¬µÄ¿¨Æ¬) */
//  412 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  413 /* FM1702_OK: Ó¦´ðÕýÈ·*/
//  414 /* FM1702_REQERR: Ó¦´ð´íÎó*/
//  415 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  416 uint8 Request(uint8 mode)
Request:
        CFI Block cfiBlock16 Using cfiCommon0
        CFI Function Request
        CODE
//  417 {	
        FUNCALL Request, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, Fifo_Read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Request, Judge_Req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
//  418   uint8 temp;	
//  419   RevBuffer[0] = mode; //00x26
        MOV     DPTR,#RevBuffer
        MOVX    @DPTR,A
//  420   WriteReg(0x11,0x58);//¹Ø·¢Éä¿ØÖÆ
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x58
        MOV     R1,#0x11
        LCALL   ?Subroutine8 & 0xFFFF
//  421   WriteReg(0x11,0x5b);//¿ª·¢Éä¿ØÖÆ
//  422   WriteReg(0x0f,0x07);          //address 0FH  µ÷ÕûÎ»µÄÖ¡¸ñÊ½	
??CrossCallReturnLabel_1:
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x7
        MOV     R1,#0xf
        LCALL   ??WriteReg?relay
//  423   temp = ReadReg(0x09);
//  424   temp &= 0xf7;
//  425   WriteReg(0x09,temp);
        ; Setup parameters for call to function WriteReg
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x9
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_30:
        ANL     A,#0xf7
        MOV     R2,A
        MOV     R1,#0x9
        LCALL   ??WriteReg?relay
//  426   WriteReg(0x22,0x03);
        ; Setup parameters for call to function WriteReg
        LCALL   ?Subroutine5 & 0xFFFF
//  427   
//  428   temp = Command_Send(1, RevBuffer, Transceive); //Ð´0x26µ½FIFO
//  429   if(temp == FALSE)
??CrossCallReturnLabel_18:
        MOV     R1,#0x1
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_37:
        JNZ     ??Request_0
//  430   {
//  431     return FALSE;	
??Request_1:
        MOV     R1,#0x0
        SJMP    ??Request_2
//  432   }
//  433   temp = Fifo_Read(RevBuffer);    //¶ÁÈ¡FIFOÀïÃæµÄÊý¾Ý¼°Êý¾Ý³¤¶È	
//  434   if(temp == 2)
??Request_0:
        ; Setup parameters for call to function Fifo_Read
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        LCALL   ??Fifo_Read?relay
        MOV     A,R1
        XRL     A,#0x2
        JNZ     ??Request_1
//  435   {
//  436     temp = Judge_Req(RevBuffer); //¶Ô¿¨Æ¬¸´Î»Ó¦´ðÐÅºÅµÄÅÐ¶Ï·µ»ØÖµÊÇ·ñÕýÈ·
//  437     if(temp == TRUE)
        ; Setup parameters for call to function Judge_Req
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        LCALL   ??Judge_Req?relay
        MOV     A,R1
        XRL     A,#0x1
        JNZ     ??Request_1
//  438     {
//  439       return TRUE;	
        MOV     R1,#0x1
//  440     }
//  441   }
??Request_2:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock16
//  442   return FALSE;
//  443 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine8:
        CFI Block cfiCond17 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_0
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        CFI Block cfiCond18 Using cfiCommon0
        CFI (cfiCond18) NoFunction
        CFI (cfiCond18) Conditional ??CrossCallReturnLabel_1
        CFI (cfiCond18) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond18) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond18) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond18) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond18) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond18) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond18) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond18) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond18) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond18) CFA_SP SP+0
        CFI (cfiCond18) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker19 Using cfiCommon1
        CFI (cfiPicker19) NoFunction
        CFI (cfiPicker19) Picker
        LCALL   ??WriteReg?relay
        ; Setup parameters for call to function WriteReg
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x5b
        MOV     R1,#0x11
        LCALL   ??WriteReg?relay
        RET
        CFI EndBlock cfiCond17
        CFI EndBlock cfiCond18
        CFI EndBlock cfiPicker19

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine5:
        CFI Block cfiCond20 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_18
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond21 Using cfiCommon0
        CFI (cfiCond21) NoFunction
        CFI (cfiCond21) Conditional ??CrossCallReturnLabel_19
        CFI (cfiCond21) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond21) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond21) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond21) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond21) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond21) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond21) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond21) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond21) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond21) CFA_SP SP+0
        CFI (cfiCond21) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker22 Using cfiCommon1
        CFI (cfiPicker22) NoFunction
        CFI (cfiPicker22) Picker
        MOV     R2,#0x3
        CFI EndBlock cfiCond20
        CFI EndBlock cfiCond21
        CFI EndBlock cfiPicker22
        REQUIRE ??Subroutine19_0
        ; // Fall through to label ??Subroutine19_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine19_0:
        CFI Block cfiCond23 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_20
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        CFI Block cfiCond24 Using cfiCommon0
        CFI (cfiCond24) NoFunction
        CFI (cfiCond24) Conditional ??CrossCallReturnLabel_18
        CFI (cfiCond24) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond24) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond24) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond24) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond24) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond24) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond24) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond24) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond24) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond24) CFA_SP SP+0
        CFI (cfiCond24) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond25 Using cfiCommon0
        CFI (cfiCond25) NoFunction
        CFI (cfiCond25) Conditional ??CrossCallReturnLabel_19
        CFI (cfiCond25) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond25) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond25) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond25) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond25) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond25) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond25) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond25) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond25) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond25) CFA_SP SP+0
        CFI (cfiCond25) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker26 Using cfiCommon1
        CFI (cfiPicker26) NoFunction
        CFI (cfiPicker26) Picker
        MOV     R1,#0x22
        LCALL   ??WriteReg?relay
        ; Setup parameters for call to function Command_Send
        ; Setup parameters for call to function Command_Send
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x1e
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        RET
        CFI EndBlock cfiCond23
        CFI EndBlock cfiCond24
        CFI EndBlock cfiCond25
        CFI EndBlock cfiPicker26
//  444 
//  445 /****************************************************************/
//  446 /*Ãû³Æ: Load_keyE */
//  447 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ°ÑE2ÖÐÃÜÂë´æÈëFM1702µÄkeyRevBufferÖÐ*/
//  448 /*ÊäÈë: Secnr: EEÆðÊ¼µØÖ·*/
//  449 /*Êä³ö: True: ÃÜÔ¿×°ÔØ³É¹¦*/
//  450 /* False: ÃÜÔ¿×°ÔØÊ§°Ü*/
//  451 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  452 uint8 Load_key_CPY(uint8 *buff)
Load_key_CPY:
        CFI Block cfiBlock27 Using cfiCommon0
        CFI Function Load_key_CPY
        CODE
//  453 {
        FUNCALL Load_key_CPY, M500HostCodeKey
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Load_key_CPY, Command_Send
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Load_key_CPY, ReadReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 12
        MOV     A,#-0xc
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
//  454   int8  status;
//  455   uint8 coded_keys[12];
//  456   uint8 temp;
//  457   M500HostCodeKey(buff, coded_keys);////////////////	
        ; Setup parameters for call to function M500HostCodeKey
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        LCALL   ??M500HostCodeKey?relay
//  458   temp=Command_Send(0x0c,coded_keys,LoadKey);/* LoadKey½«ÃÜÔ¿´ÓFIFO»º´æ¸´ÖÆµ½KEY»º´æ 0x19*/
//  459   if(temp == FALSE)       //0x0cÎª12¸ö×Ö½Ú³¤¶È //coded_keysÎªÖ¸ÏòµØÖ·¼Ä´æÆ÷
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x19
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        MOV     R1,#0xc
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_38:
        JNZ     ??Load_key_CPY_0
//  460   {
//  461     return FM1702_LOADKEYERR;
        MOV     R1,#0x13
        SJMP    ??Load_key_CPY_1
//  462   }
//  463   status = (ReadReg(ErrorFlag)) & 0x40;//ÅÐ¶ÏloadkeyÖ´ÐÐÊÇ·ñÕýÈ·
??Load_key_CPY_0:
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0xa
        LCALL   ??Subroutine20_0 & 0xFFFF
//  464   if (status==0x40)
??CrossCallReturnLabel_31:
        MOV     C,0xE0 /* A   */.6
        JNC     ??Load_key_CPY_2
//  465     return FM1702_AUTHERR;
        MOV     R1,#0x4
        SJMP    ??Load_key_CPY_1
//  466   return FM1702_OK;
??Load_key_CPY_2:
        MOV     R1,#0x0
??Load_key_CPY_1:
        MOV     A,#0xc
        LCALL   ?DEALLOC_XSTACK8
        CFI EndBlock cfiBlock27
        REQUIRE ?Subroutine2
        ; // Fall through to label ?Subroutine2
//  467 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine2:
        CFI Block cfiBlock28 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+-5
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        POP     DPH
        CFI CFA_SP SP+-4
        CFI DPH0 SameValue
        POP     DPL
        CFI CFA_SP SP+-3
        CFI DPL0 SameValue
        LJMP    ?BRET
        CFI EndBlock cfiBlock28

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine6:
        CFI Block cfiCond29 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_21
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond30 Using cfiCommon0
        CFI (cfiCond30) NoFunction
        CFI (cfiCond30) Conditional ??CrossCallReturnLabel_22
        CFI (cfiCond30) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond30) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond30) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond30) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond30) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond30) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond30) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond30) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond30) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond30) CFA_SP SP+0
        CFI (cfiCond30) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond31 Using cfiCommon0
        CFI (cfiCond31) NoFunction
        CFI (cfiCond31) Conditional ??CrossCallReturnLabel_23
        CFI (cfiCond31) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond31) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond31) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond31) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond31) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond31) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond31) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond31) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond31) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond31) CFA_SP SP+0
        CFI (cfiCond31) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond32 Using cfiCommon0
        CFI (cfiCond32) NoFunction
        CFI (cfiCond32) Conditional ??CrossCallReturnLabel_24
        CFI (cfiCond32) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond32) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond32) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond32) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond32) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond32) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond32) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond32) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond32) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond32) CFA_SP SP+0
        CFI (cfiCond32) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond33 Using cfiCommon0
        CFI (cfiCond33) NoFunction
        CFI (cfiCond33) Conditional ??CrossCallReturnLabel_25
        CFI (cfiCond33) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond33) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond33) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond33) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond33) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond33) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond33) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond33) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond33) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond33) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond33) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond33) CFA_SP SP+0
        CFI (cfiCond33) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiPicker34 Using cfiCommon1
        CFI (cfiPicker34) NoFunction
        CFI (cfiPicker34) Picker
        MOV     R1,#0x4
        CFI EndBlock cfiCond29
        CFI EndBlock cfiCond30
        CFI EndBlock cfiCond31
        CFI EndBlock cfiCond32
        CFI EndBlock cfiCond33
        CFI EndBlock cfiPicker34
        REQUIRE ??Subroutine20_0
        ; // Fall through to label ??Subroutine20_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine20_0:
        CFI Block cfiCond35 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_26
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond36 Using cfiCommon0
        CFI (cfiCond36) NoFunction
        CFI (cfiCond36) Conditional ??CrossCallReturnLabel_27
        CFI (cfiCond36) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond36) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond36) CFA_SP SP+-5
        CFI Block cfiCond37 Using cfiCommon0
        CFI (cfiCond37) NoFunction
        CFI (cfiCond37) Conditional ??CrossCallReturnLabel_28
        CFI (cfiCond37) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond37) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond37) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond37) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond37) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond37) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond37) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond37) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond37) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond37) CFA_SP SP+0
        CFI (cfiCond37) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond38 Using cfiCommon0
        CFI (cfiCond38) NoFunction
        CFI (cfiCond38) Conditional ??CrossCallReturnLabel_29
        CFI (cfiCond38) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond38) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond38) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond38) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond38) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond38) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond38) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond38) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond38) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond38) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond38) CFA_SP SP+0
        CFI (cfiCond38) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond39 Using cfiCommon0
        CFI (cfiCond39) NoFunction
        CFI (cfiCond39) Conditional ??CrossCallReturnLabel_30
        CFI (cfiCond39) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond39) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond39) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond39) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond39) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond39) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond39) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond39) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond39) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond39) CFA_SP SP+0
        CFI (cfiCond39) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond40 Using cfiCommon0
        CFI (cfiCond40) NoFunction
        CFI (cfiCond40) Conditional ??CrossCallReturnLabel_31
        CFI (cfiCond40) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond40) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond40) CFA_SP SP+-5
        CFI (cfiCond40) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond41 Using cfiCommon0
        CFI (cfiCond41) NoFunction
        CFI (cfiCond41) Conditional ??CrossCallReturnLabel_32
        CFI (cfiCond41) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond41) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond41) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond41) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond41) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond41) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond41) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond41) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond41) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond41) CFA_SP SP+0
        CFI (cfiCond41) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond42 Using cfiCommon0
        CFI (cfiCond42) NoFunction
        CFI (cfiCond42) Conditional ??CrossCallReturnLabel_33
        CFI (cfiCond42) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond42) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond42) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond42) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond42) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond42) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond42) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond42) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond42) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond42) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond42) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond42) CFA_SP SP+0
        CFI (cfiCond42) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiCond43 Using cfiCommon0
        CFI (cfiCond43) NoFunction
        CFI (cfiCond43) Conditional ??CrossCallReturnLabel_21
        CFI (cfiCond43) R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond43) VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond43) V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond43) V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond43) V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond43) V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond43) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond43) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond43) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond43) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond43) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond43) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond43) CFA_SP SP+0
        CFI (cfiCond43) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond44 Using cfiCommon0
        CFI (cfiCond44) NoFunction
        CFI (cfiCond44) Conditional ??CrossCallReturnLabel_22
        CFI (cfiCond44) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond44) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond44) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond44) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond44) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond44) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond44) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond44) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond44) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond44) CFA_SP SP+0
        CFI (cfiCond44) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond45 Using cfiCommon0
        CFI (cfiCond45) NoFunction
        CFI (cfiCond45) Conditional ??CrossCallReturnLabel_23
        CFI (cfiCond45) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond45) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond45) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond45) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond45) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond45) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond45) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond45) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond45) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond45) CFA_SP SP+0
        CFI (cfiCond45) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond46 Using cfiCommon0
        CFI (cfiCond46) NoFunction
        CFI (cfiCond46) Conditional ??CrossCallReturnLabel_24
        CFI (cfiCond46) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond46) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond46) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond46) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond46) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond46) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond46) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond46) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond46) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond46) CFA_SP SP+0
        CFI (cfiCond46) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond47 Using cfiCommon0
        CFI (cfiCond47) NoFunction
        CFI (cfiCond47) Conditional ??CrossCallReturnLabel_25
        CFI (cfiCond47) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond47) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond47) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond47) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond47) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond47) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond47) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond47) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond47) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond47) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond47) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond47) CFA_SP SP+0
        CFI (cfiCond47) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiPicker48 Using cfiCommon1
        CFI (cfiPicker48) NoFunction
        CFI (cfiPicker48) Picker
        LCALL   ??ReadReg?relay
        MOV     A,R1
        RET
        CFI EndBlock cfiCond35
        CFI EndBlock cfiCond36
        CFI EndBlock cfiCond37
        CFI EndBlock cfiCond38
        CFI EndBlock cfiCond39
        CFI EndBlock cfiCond40
        CFI EndBlock cfiCond41
        CFI EndBlock cfiCond42
        CFI EndBlock cfiCond43
        CFI EndBlock cfiCond44
        CFI EndBlock cfiCond45
        CFI EndBlock cfiCond46
        CFI EndBlock cfiCond47
        CFI EndBlock cfiPicker48
//  468 
//  469 // ×ª»»ÃÜÔ¿¸ñÊ½
//  470 ///////////////////////////////////////////////////////////////////////

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  471 int8 M500HostCodeKey(uint8 *uncoded, uint8 *coded)   
M500HostCodeKey:
        CFI Block cfiBlock49 Using cfiCommon0
        CFI Function M500HostCodeKey
        CODE
//  472 {
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  473   uint8 cnt = 0;
//  474   uint8 ln  = 0;     
//  475   uint8 hn  = 0;      
//  476   for (cnt = 0; cnt < 6; cnt++)
        MOV     R6,#0x0
//  477   {
//  478     ln = uncoded[cnt] & 0x0F;
??M500HostCodeKey_0:
        MOV     DPL,R6
        LCALL   ?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_48:
        ANL     A,#0xf
        MOV     R7,A
//  479     hn = uncoded[cnt] >> 4;
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        MOV     ?V0 + 0,A
//  480     coded[cnt * 2 + 1] = (~ln << 4) | ln;
        MOV     A,R0
        CLR     C
        RLC     A
        MOV     R0,A
        CLR     A
        RLC     A
        MOV     R1,A
        MOV     A,R4
        ADD     A,R0
        MOV     R0,A
        MOV     A,R5
        ADDC    A,R1
        MOV     R1,A
        MOV     A,R7
        CPL     A
        SWAP    A
        ANL     A,#0xf0
        ORL     A,R7
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOVX    @DPTR,A
//  481     coded[cnt * 2 ] = (~hn << 4) | hn;
        MOV     A,?V0 + 0
        CPL     A
        SWAP    A
        ANL     A,#0xf0
        ORL     A,?V0 + 0
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    @DPTR,A
//  482   }
        INC     R6
        MOV     A,R6
        CLR     C
        SUBB    A,#0x6
        JC      ??M500HostCodeKey_0
//  483   return 0;
        MOV     R1,#0x0
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock49
//  484 }
//  485 
//  486 /*¶ÁÈ¡¿¨ºÅ*/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  487 uint8 ReadCardNum(void)
ReadCardNum:
        CFI Block cfiBlock50 Using cfiCommon0
        CFI Function ReadCardNum
        CODE
//  488 {
        FUNCALL ReadCardNum, AntiColl
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadCardNum, Select_Card
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadCardNum, keyto
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadCardNum, Load_key_CPY
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ReadCardNum, Authentication
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  489   uint8 st;
//  490   st= AntiColl();
//  491   if(st!=0)				 
        ; Setup parameters for call to function AntiColl
        LCALL   ??AntiColl?relay
        MOV     A,R1
        JZ      ??ReadCardNum_0
//  492     return (1);
??ReadCardNum_1:
        MOV     R1,#0x1
        SJMP    ??ReadCardNum_2
//  493   st = Select_Card();  //Ñ¡Ôñ¿¨Æ¬
//  494   if(st!=0)
??ReadCardNum_0:
        ; Setup parameters for call to function Select_Card
        LCALL   ??Select_Card?relay
        MOV     A,R1
        JNZ     ??ReadCardNum_1
//  495     return (1);
//  496   keyto();
        ; Setup parameters for call to function keyto
        LCALL   ??keyto?relay
//  497   st = Load_key_CPY(&RevBuffer[5]);
//  498   if(st!=0)
        ; Setup parameters for call to function Load_key_CPY
        MOV     R2,#(RevBuffer + 5) & 0xff
        MOV     R3,#((RevBuffer + 5) >> 8) & 0xff
        LCALL   ??Load_key_CPY?relay
        MOV     A,R1
        JNZ     ??ReadCardNum_1
//  499     return (1);		       
//  500   st = Authentication(CardNo, RevBuffer[4]);
//  501   if(st!=0)
        ; Setup parameters for call to function Authentication
        MOV     DPTR,#RevBuffer + 4
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R2,#CardNo & 0xff
        MOV     R3,#(CardNo >> 8) & 0xff
        LCALL   ??Authentication?relay
        MOV     A,R1
        JNZ     ??ReadCardNum_1
//  502     return (1);
//  503   return (0);
        MOV     R1,#0x0
??ReadCardNum_2:
        LJMP    ?Subroutine2 & 0xFFFF
        CFI EndBlock cfiBlock50
//  504 }
//  505 
//  506 /****************************************************************/
//  507 /*Ãû³Æ: Authentication */
//  508 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÃÜÂëÈÏÖ¤µÄ¹ý³Ì*/
//  509 /*ÊäÈë: UID: ¿¨Æ¬ÐòÁÐºÅµØÖ·*/
//  510 /* SecNR: ÉÈÇøºÅ*/
//  511 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  512 /* FM1702_PARITYERR: ÆæÅ¼Ð£Ñé´í*/
//  513 /* FM1702_CRCERR: CRCÐ£Ñé´í*/
//  514 /* FM1702_OK: Ó¦´ðÕýÈ·*/
//  515 /* FM1702_AUTHERR: È¨ÍþÈÏÖ¤ÓÐ´í*/
//  516 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  517 uint8 Authentication(uint8 *UID, uint8 SecNR)
Authentication:
        CFI Block cfiBlock51 Using cfiCommon0
        CFI Function Authentication
        CODE
//  518 {	
        FUNCALL Authentication, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Authentication, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Authentication, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Authentication, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  519   uint8 i;
//  520   uint8 temp, temp1;	
//  521   RevBuffer[0] = RF_CMD_AUTH_LA;   //ÃÜÂëA   
        MOV     DPTR,#RevBuffer
        MOV     A,#0x60
        MOVX    @DPTR,A
//  522   RevBuffer[1] = SecNR;  
        MOV     A,R6
        INC     DPTR
        MOVX    @DPTR,A
//  523   for(i = 0; i < 4; i++)
        MOV     R4,#0x0
//  524   RevBuffer[2 + i] = UID[i];//°ÑÐòÁÐºÅ·ÅÈë»º³åÇøÊÇ·ñÎªÍ¬Ò»ÕÅ¿¨	  
??Authentication_0:
        MOV     DPL,R4
        LCALL   ?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_49:
        PUSH    A
        CFI CFA_SP SP+-1
        LCALL   ?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_10:
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        INC     R4
        MOV     A,R4
        CLR     C
        SUBB    A,#0x4
        JC      ??Authentication_0
//  525   WriteReg(ChannelRedundancy, 0x0f);  //·ñÔòÑéÖ¤²»Í¨¹ý
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0xf
        MOV     R1,#0x22
        LCALL   ??WriteReg?relay
//  526 //************ Authent1=0x0c ÑéÖ¤ÃüÁîÈÏÖ¤¹ý³ÌµÚ1²½ ****************//	
//  527   temp = Command_Send(6, RevBuffer, Authent1);
//  528   if(temp == FALSE)   			
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0xc
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        MOV     R1,#0x6
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_39:
        JNZ     ??Authentication_1
//  529     return FM1702_AUTHERR;	
??Authentication_2:
        MOV     R1,#0x4
        SJMP    ??Authentication_3
//  530 //************ Authent2=0x14 ÑéÖ¤ÃüÁîÈÏÖ¤¹ý³ÌµÚ2²½ ****************//
//  531   temp = Command_Send(0, RevBuffer, Authent2);//Èç¹ûÃÜÂë´íÔòµÚ¶þ²½²»Í¨¹ý
//  532   if(temp == FALSE)			
??Authentication_1:
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x14
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        MOV     R1,#0x0
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_40:
        JZ      ??Authentication_2
//  533     return FM1702_AUTHERR;
//  534   temp1 = ReadReg(Control);//¶Á¿ØÖÆ±êÊ¶¼Ä´æÆ÷Îª0X08Ê±±íÊ¾¼ÓÃÜµ¥Ôª´ò¿ª£¬
//  535   temp1 = temp1 & 0x08;	//Í¨¹ýºó¸ÃÎ»ÄÚ²¿ÖÃ1 £¨CRYPTO1ON£©
//  536   if(temp1 == 0x08)
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0x9
        LCALL   ??Subroutine20_0 & 0xFFFF
??CrossCallReturnLabel_32:
        ANL     A,#0x8
        JZ      ??Authentication_2
//  537     return (0);
        MOV     R1,#0x0
??Authentication_3:
        SJMP    ??Subroutine21_0
        CFI EndBlock cfiBlock51
//  538   return FM1702_AUTHERR;
//  539 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine0:
        CFI Block cfiBlock52 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        LCALL   ??SPIOneByte?relay
        SETB    0x90.4
        CFI EndBlock cfiBlock52
        REQUIRE ??Subroutine21_0
        ; // Fall through to label ??Subroutine21_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine21_0:
        CFI Block cfiBlock53 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock53
//  540 
//  541 /****************************************************************/
//  542 /*Ãû³Æ: Select_Card */
//  543 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ¶Ô·ÅÈëFM1702²Ù×÷·¶Î§Ö®ÄÚµÄÄ³ÕÅ¿¨Æ¬½øÐÐÑ¡Ôñ*/
//  544 /*ÊäÈë: N/A */
//  545 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  546 /* FM1702_PARITYERR: ÆæÅ¼Ð£Ñé´í*/
//  547 /* FM1702_CRCERR: CRCÐ£Ñé´í*/
//  548 /* FM1702_BYTECOUNTERR: ½ÓÊÕ×Ö½Ú´íÎó*/
//  549 /* FM1702_OK: Ó¦´ðÕýÈ·*/
//  550 /* FM1702_SELERR: Ñ¡¿¨³ö´í*/
//  551 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  552 uint8 Select_Card(void)
Select_Card:
        CFI Block cfiBlock54 Using cfiCommon0
        CFI Function Select_Card
        CODE
//  553 {
        FUNCALL Select_Card, WriteReg
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Select_Card, Command_Send
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL Select_Card, Fifo_Read
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  554   uint8 temp, i;	
//  555 
//  556   RevBuffer[0] = RF_CMD_SELECT;//Ð´0x93ÃüÁîÊ±¹Ø±Õ·¢ËÍÒÔ¼°½ÓÊÕCRCÐ£ÑéÒÔ¼°¿ªÆôÆæÐ£Ñé
        MOV     DPTR,#RevBuffer
        MOV     A,#-0x6d
        MOVX    @DPTR,A
//  557   RevBuffer[1] = 0x70; //µ±·¢ËÍPICC_REQSTD ÃüÁîÊ±RegBitFraming Òª×°Èë0x07
        INC     DPTR
        MOV     A,#0x70
        MOVX    @DPTR,A
//  558   for(i = 0; i < 5; i++)
        MOV     R2,#0x0
//  559   {
//  560     RevBuffer[i + 2] = CardNo[i];  //°Ñ5¸ö¿¨ÐòÁÐºÅ×ª·ÅÈë»º³åÇø
??Select_Card_0:
        MOV     DPL,R2
        MOV     R0,DPL
        MOV     A,#CardNo & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(CardNo >> 8) & 0xff
        LCALL   ??Subroutine24_0 & 0xFFFF
//  561   }
??CrossCallReturnLabel_44:
        PUSH    A
        CFI CFA_SP SP+-6
        LCALL   ?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_11:
        POP     A
        CFI CFA_SP SP+-5
        MOVX    @DPTR,A
        INC     R2
        MOV     A,R2
        CLR     C
        SUBB    A,#0x5
        JC      ??Select_Card_0
//  562   WriteReg(ChannelRedundancy, 0x0f);//Ñ¡ÔñÊý¾ÝÐ£ÑéµÄÖÖÀàºÍÄ£Ê½	
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0xf
        LCALL   ??Subroutine19_0 & 0xFFFF
//  563   temp = Command_Send(7, RevBuffer, Transceive);//Transceive=1EH£¨½ÓÊÕÃüÁî£©
//  564   if(temp == FALSE)			
??CrossCallReturnLabel_20:
        MOV     R1,#0x7
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_41:
        JNZ     ??Select_Card_1
//  565   {
//  566     return(1);
        MOV     R1,#0x1
        SJMP    ??Select_Card_2
//  567   }
//  568   else
//  569   {
//  570     Fifo_Read(RevBuffer);	/* ´ÓFIFOÖÐ¶ÁÈ¡Ó¦´ðÐÅÏ¢, ¶ÁÈ¡¿¨Æ¬ÈÝÁ¿*/
??Select_Card_1:
        ; Setup parameters for call to function Fifo_Read
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        LCALL   ??Fifo_Read?relay
//  571     temp = *RevBuffer;			//·µ»Ø¿¨Æ¬ÈÝÁ¿S50¿¨:08,S70¿¨:18
        MOV     DPTR,#RevBuffer
        MOVX    A,@DPTR
        MOV     R0,A
//  572     if((temp == 0x18) || (temp == 0x08) || (temp == 0x28) || (temp == 0x53))	/* ÅÐ¶ÏÓ¦´ðÐÅºÅÊÇ·ñÕýÈ· */
        MOV     A,#0x18
        XRL     A,R0
        JZ      ??Select_Card_3
        MOV     A,#0x8
        XRL     A,R0
        JZ      ??Select_Card_3
        MOV     A,#0x28
        XRL     A,R0
        JZ      ??Select_Card_3
        MOV     A,#0x53
        XRL     A,R0
        JNZ     ??Select_Card_4
//  573       return(0);
??Select_Card_3:
        MOV     R1,#0x0
        SJMP    ??Select_Card_2
//  574     else
//  575       return(FM1702_SELERR);
??Select_Card_4:
        MOV     R1,#0x16
//  576   }
??Select_Card_2:
        LJMP    ?Subroutine2 & 0xFFFF
        CFI EndBlock cfiBlock54
//  577 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine15:
        CFI Block cfiCond55 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_10
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+-1
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond56 Using cfiCommon0
        CFI (cfiCond56) NoFunction
        CFI (cfiCond56) Conditional ??CrossCallReturnLabel_11
        CFI (cfiCond56) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond56) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond56) CFA_SP SP+-6
        CFI Block cfiPicker57 Using cfiCommon1
        CFI (cfiPicker57) NoFunction
        CFI (cfiPicker57) Picker
        MOV     A,#(RevBuffer + 2) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((RevBuffer + 2) >> 8) & 0xff
        ADDC    A,#0x0
        MOV     DPH,A
        RET
        CFI EndBlock cfiCond55
        CFI EndBlock cfiCond56
        CFI EndBlock cfiPicker57

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine13:
        CFI Block cfiCond58 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_34
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond59 Using cfiCommon0
        CFI (cfiCond59) NoFunction
        CFI (cfiCond59) Conditional ??CrossCallReturnLabel_35
        CFI (cfiCond59) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond59) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond59) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond59) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond59) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond59) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond59) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond59) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond59) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond59) CFA_SP SP+0
        CFI (cfiCond59) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond60 Using cfiCommon0
        CFI (cfiCond60) NoFunction
        CFI (cfiCond60) Conditional ??CrossCallReturnLabel_36
        CFI (cfiCond60) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond60) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond60) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond60) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond60) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond60) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond60) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond60) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond60) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond60) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond60) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond60) CFA_SP SP+0
        CFI (cfiCond60) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiPicker61 Using cfiCommon1
        CFI (cfiPicker61) NoFunction
        CFI (cfiPicker61) Picker
        MOV     R1,#0x2
        CFI EndBlock cfiCond58
        CFI EndBlock cfiCond59
        CFI EndBlock cfiCond60
        CFI EndBlock cfiPicker61
        REQUIRE ??Subroutine22_0
        ; // Fall through to label ??Subroutine22_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine22_0:
        CFI Block cfiCond62 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_37
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond63 Using cfiCommon0
        CFI (cfiCond63) NoFunction
        CFI (cfiCond63) Conditional ??CrossCallReturnLabel_38
        CFI (cfiCond63) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond63) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond63) CFA_SP SP+-5
        CFI (cfiCond63) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond64 Using cfiCommon0
        CFI (cfiCond64) NoFunction
        CFI (cfiCond64) Conditional ??CrossCallReturnLabel_39
        CFI (cfiCond64) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond64) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond64) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond64) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond64) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond64) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond64) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond64) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond64) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond64) CFA_SP SP+0
        CFI (cfiCond64) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond65 Using cfiCommon0
        CFI (cfiCond65) NoFunction
        CFI (cfiCond65) Conditional ??CrossCallReturnLabel_40
        CFI (cfiCond65) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond65) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond65) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond65) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond65) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond65) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond65) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond65) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond65) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond65) CFA_SP SP+0
        CFI (cfiCond65) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond66 Using cfiCommon0
        CFI (cfiCond66) NoFunction
        CFI (cfiCond66) Conditional ??CrossCallReturnLabel_41
        CFI (cfiCond66) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond66) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond66) CFA_SP SP+-5
        CFI Block cfiCond67 Using cfiCommon0
        CFI (cfiCond67) NoFunction
        CFI (cfiCond67) Conditional ??CrossCallReturnLabel_42
        CFI (cfiCond67) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond67) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond67) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond67) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond67) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond67) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond67) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond67) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond67) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond67) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond67) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond67) CFA_SP SP+0
        CFI (cfiCond67) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiCond68 Using cfiCommon0
        CFI (cfiCond68) NoFunction
        CFI (cfiCond68) Conditional ??CrossCallReturnLabel_34
        CFI (cfiCond68) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond68) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond68) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond68) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond68) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond68) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond68) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond68) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond68) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond68) CFA_SP SP+0
        CFI (cfiCond68) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond69 Using cfiCommon0
        CFI (cfiCond69) NoFunction
        CFI (cfiCond69) Conditional ??CrossCallReturnLabel_35
        CFI (cfiCond69) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond69) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond69) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond69) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond69) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond69) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond69) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond69) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond69) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond69) CFA_SP SP+0
        CFI (cfiCond69) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond70 Using cfiCommon0
        CFI (cfiCond70) NoFunction
        CFI (cfiCond70) Conditional ??CrossCallReturnLabel_36
        CFI (cfiCond70) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond70) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond70) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond70) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond70) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond70) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond70) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond70) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond70) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond70) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond70) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond70) CFA_SP SP+0
        CFI (cfiCond70) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiPicker71 Using cfiCommon1
        CFI (cfiPicker71) NoFunction
        CFI (cfiPicker71) Picker
        LCALL   ??Command_Send?relay
        MOV     A,R1
        RET
        CFI EndBlock cfiCond62
        CFI EndBlock cfiCond63
        CFI EndBlock cfiCond64
        CFI EndBlock cfiCond65
        CFI EndBlock cfiCond66
        CFI EndBlock cfiCond67
        CFI EndBlock cfiCond68
        CFI EndBlock cfiCond69
        CFI EndBlock cfiCond70
        CFI EndBlock cfiPicker71
//  578 
//  579 /****************************************************************/
//  580 /*Ãû³Æ: Check_UID */
//  581 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ¶ÔÊÕµ½µÄ¿¨Æ¬µÄÐòÁÐºÅµÄÅÐ¶Ï*/
//  582 /*ÊäÈë: N/A */
//  583 /*Êä³ö: TRUE: ÐòÁÐºÅÕýÈ·*/
//  584 /* FALSE: ÐòÁÐºÅ´íÎó*/
//  585 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  586 uint8 Check_UID(void)
Check_UID:
        CFI Block cfiBlock72 Using cfiCommon0
        CFI Function Check_UID
        CODE
//  587 {
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
//  588   uint8 temp;
//  589   uint8 i;
//  590   temp = 0x00;
        MOV     ?V0 + 2,#0x0
//  591   for(i = 0; i < 5; i++)
        MOV     R0,#0x0
//  592   {
//  593     temp = temp ^ CardNo[i];//¶Ô¿¨ºÅÒì»òÔËËã£¬¼´¶þÊýÏàÍ¬Îª0£¬²»Í¬Îª1
??Check_UID_0:
        MOV     ?V0 + 0,R0
        MOV     A,#CardNo & 0xff
        ADD     A,?V0 + 0
        MOV     DPL,A
        MOV     A,#(CardNo >> 8) & 0xff
        LCALL   ??Subroutine24_0 & 0xFFFF
//  594   }						//ÕýÈ·½á¹ûÎª0
??CrossCallReturnLabel_45:
        XRL     ?V0 + 2,A
        INC     R0
        MOV     A,R0
        CLR     C
        SUBB    A,#0x5
        JC      ??Check_UID_0
//  595   if(temp == 0)
        MOV     A,?V0 + 2
        JNZ     ??Check_UID_1
//  596   {
//  597     return TRUE;
        MOV     R1,#0x1
        SJMP    ??Check_UID_2
//  598   }
//  599   return FALSE;
??Check_UID_1:
        MOV     R1,#0x0
        CFI EndBlock cfiBlock72
??Check_UID_2:
        REQUIRE ?Subroutine4
        ; // Fall through to label ?Subroutine4
//  600 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine4:
        CFI Block cfiBlock73 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 11)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock73
//  601 
//  602 /****************************************************************/
//  603 /*Ãû³Æ: AntiColl */
//  604 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ¶Ô·ÅÈëFM1702²Ù×÷·¶Î§Ö®ÄÚµÄ¿¨Æ¬µÄ·À³åÍ»¼ì²â*/
//  605 /*ÊäÈë: N/A */
//  606 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  607 /* FM1702_BYTECOUNTERR: ½ÓÊÕ×Ö½Ú´íÎó*/
//  608 /* FM1702_SERNRERR: ¿¨Æ¬ÐòÁÐºÅÓ¦´ð´íÎó*/
//  609 /* FM1702_OK: ¿¨Æ¬Ó¦´ðÕýÈ·*/
//  610 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  611 uint8 AntiColl(void)
AntiColl:
        CFI Block cfiBlock74 Using cfiCommon0
        CFI Function AntiColl
        CODE
//  612 {
        FUNCALL AntiColl, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL AntiColl, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL AntiColl, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL AntiColl, Fifo_Read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL AntiColl, Check_UID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  613   uint8	temp;
//  614   uint8	i;
//  615   RevBuffer[0] = RF_CMD_ANTICOL;    //Ð´Ñ°¿¨Í¨Ñ¶ÃüÁî93H
        MOV     DPTR,#RevBuffer
        MOV     A,#-0x6d
        MOVX    @DPTR,A
//  616   RevBuffer[1] = 0x20;              //Ð´Ñ°¿¨Í¨Ñ¶ÃüÁî20H
        INC     DPTR
        MOV     A,#0x20
        MOVX    @DPTR,A
//  617   WriteReg(ChannelRedundancy, 0x03); //address 22H  Ñ¡ÔñÊý¾ÝÐ£ÑéÖÖÀàºÍÀàÐÍ
        ; Setup parameters for call to function WriteReg
        LCALL   ?Subroutine5 & 0xFFFF
//  618   temp = Command_Send(2, RevBuffer, Transceive);//Transceive=0X1EÃüÁî
//  619   while(1)
//  620   {
//  621     if(temp == FALSE)
??CrossCallReturnLabel_19:
        LCALL   ?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_34:
        JNZ     ??AntiColl_0
//  622     {
//  623       return(1);   //ÎÞ¿¨
        MOV     R1,#0x1
        SJMP    ??AntiColl_1
//  624     }	  
//  625     temp = ReadReg(FIFOLength);   //¶Á0x04ÀïµÄ·µ»Ø¿¨ºÅ³¤¶È
??AntiColl_0:
        ; Setup parameters for call to function ReadReg
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_23:
        MOV     R6,A
//  626     if(temp == 0)
        JNZ     ??AntiColl_2
//  627     {
//  628       return FM1702_BYTECOUNTERR; //½ÓÊÕ×Ö½Ú³¤¶È´íÎó
        MOV     R1,#0xc
        SJMP    ??AntiColl_1
//  629     }
//  630     Fifo_Read(RevBuffer);           //¶ÁÈ¡¿¨ºÅ  					
??AntiColl_2:
        ; Setup parameters for call to function Fifo_Read
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        LCALL   ??Fifo_Read?relay
//  631     for(i = 0; i < temp; i++)
        MOV     R2,#0x0
//  632     {
//  633       CardNo[i] = RevBuffer[i]; //°ÑÁÙÊ±¼Ä´æÆ÷ÖÐµÄ¿¨ºÅ·ÅÔÚUID×¨ÓÃ¼Ä´æÆ÷ÖÐ
??AntiColl_3:
        MOV     DPL,R2
        MOV     R0,DPL
        MOV     A,#RevBuffer & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(RevBuffer >> 8) & 0xff
        LCALL   ??Subroutine24_0 & 0xFFFF
//  634     }		
??CrossCallReturnLabel_46:
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#CardNo & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(CardNo >> 8) & 0xff
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        INC     R2
        MOV     A,R2
        CLR     C
        SUBB    A,R6
        JC      ??AntiColl_3
//  635     temp = Check_UID();			/* Ð£ÑéÊÕµ½µÄUID */
//  636     if(temp == FALSE)
        ; Setup parameters for call to function Check_UID
        LCALL   ??Check_UID?relay
        MOV     A,R1
        JNZ     ??AntiColl_4
//  637     {
//  638       return(FM1702_SERNRERR);
        MOV     R1,#0x8
        SJMP    ??AntiColl_1
//  639     }
//  640     return(0);
??AntiColl_4:
        MOV     R1,#0x0
//  641   }
??AntiColl_1:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock74
//  642 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine7:
        CFI Block cfiCond75 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_48
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond76 Using cfiCommon0
        CFI (cfiCond76) NoFunction
        CFI (cfiCond76) Conditional ??CrossCallReturnLabel_49
        CFI (cfiCond76) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond76) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond76) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond76) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond76) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond76) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond76) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond76) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond76) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond76) CFA_SP SP+0
        CFI (cfiCond76) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker77 Using cfiCommon1
        CFI (cfiPicker77) NoFunction
        CFI (cfiPicker77) Picker
        MOV     R0,DPL
        MOV     A,R2
        ADD     A,R0
        CFI EndBlock cfiCond75
        CFI EndBlock cfiCond76
        CFI EndBlock cfiPicker77
        REQUIRE ??Subroutine23_0
        ; // Fall through to label ??Subroutine23_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine23_0:
        CFI Block cfiCond78 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_47
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond79 Using cfiCommon0
        CFI (cfiCond79) NoFunction
        CFI (cfiCond79) Conditional ??CrossCallReturnLabel_48
        CFI (cfiCond79) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond79) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond79) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond79) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond79) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond79) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond79) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond79) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond79) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond79) CFA_SP SP+0
        CFI (cfiCond79) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond80 Using cfiCommon0
        CFI (cfiCond80) NoFunction
        CFI (cfiCond80) Conditional ??CrossCallReturnLabel_49
        CFI (cfiCond80) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond80) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond80) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond80) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond80) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond80) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond80) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond80) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond80) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond80) CFA_SP SP+0
        CFI (cfiCond80) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker81 Using cfiCommon1
        CFI (cfiPicker81) NoFunction
        CFI (cfiPicker81) Picker
        MOV     DPL,A
        MOV     A,R3
        CFI EndBlock cfiCond78
        CFI EndBlock cfiCond79
        CFI EndBlock cfiCond80
        CFI EndBlock cfiPicker81
        REQUIRE ??Subroutine24_0
        ; // Fall through to label ??Subroutine24_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine24_0:
        CFI Block cfiCond82 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_43
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond83 Using cfiCommon0
        CFI (cfiCond83) NoFunction
        CFI (cfiCond83) Conditional ??CrossCallReturnLabel_44
        CFI (cfiCond83) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond83) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond83) CFA_SP SP+-5
        CFI Block cfiCond84 Using cfiCommon0
        CFI (cfiCond84) NoFunction
        CFI (cfiCond84) Conditional ??CrossCallReturnLabel_45
        CFI (cfiCond84) R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond84) VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond84) V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond84) V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond84) V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond84) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond84) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond84) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond84) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond84) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond84) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond84) CFA_SP SP+0
        CFI (cfiCond84) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiCond85 Using cfiCommon0
        CFI (cfiCond85) NoFunction
        CFI (cfiCond85) Conditional ??CrossCallReturnLabel_46
        CFI (cfiCond85) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond85) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond85) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond85) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond85) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond85) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond85) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond85) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond85) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond85) CFA_SP SP+0
        CFI (cfiCond85) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond86 Using cfiCommon0
        CFI (cfiCond86) NoFunction
        CFI (cfiCond86) Conditional ??CrossCallReturnLabel_47
        CFI (cfiCond86) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond86) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond86) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond86) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond86) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond86) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond86) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond86) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond86) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond86) CFA_SP SP+0
        CFI (cfiCond86) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond87 Using cfiCommon0
        CFI (cfiCond87) NoFunction
        CFI (cfiCond87) Conditional ??CrossCallReturnLabel_48
        CFI (cfiCond87) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond87) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond87) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond87) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond87) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond87) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond87) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond87) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond87) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond87) CFA_SP SP+0
        CFI (cfiCond87) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond88 Using cfiCommon0
        CFI (cfiCond88) NoFunction
        CFI (cfiCond88) Conditional ??CrossCallReturnLabel_49
        CFI (cfiCond88) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond88) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond88) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond88) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond88) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond88) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond88) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond88) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond88) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond88) CFA_SP SP+0
        CFI (cfiCond88) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker89 Using cfiCommon1
        CFI (cfiPicker89) NoFunction
        CFI (cfiPicker89) Picker
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        RET
        CFI EndBlock cfiCond82
        CFI EndBlock cfiCond83
        CFI EndBlock cfiCond84
        CFI EndBlock cfiCond85
        CFI EndBlock cfiCond86
        CFI EndBlock cfiCond87
        CFI EndBlock cfiCond88
        CFI EndBlock cfiPicker89
//  643 
//  644 /****************************************************************/
//  645 /*Ãû³Æ: MIF_Read */
//  646 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖ¶ÁMIFARE¿¨¿éµÄÊýÖµ*/
//  647 /*ÊäÈë: buff: »º³åÇøÊ×µØÖ·*/
//  648 /* Block_Adr: ¿éµØÖ·*/
//  649 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  650 /* FM1702_PARITYERR: ÆæÅ¼Ð£Ñé´í*/
//  651 /* FM1702_CRCERR: CRCÐ£Ñé´í*/
//  652 /* FM1702_BYTECOUNTERR: ½ÓÊÕ×Ö½Ú´íÎó*/
//  653 /* FM1702_OK: Ó¦´ðÕýÈ·*/
//  654 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  655 uint8 MIF_READ(uint8 *buff, uint8 Block_Adr)
MIF_READ:
        CFI Block cfiBlock90 Using cfiCommon0
        CFI Function MIF_READ
        CODE
//  656 {
        FUNCALL MIF_READ, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_READ, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_READ, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_READ, Fifo_Read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 0,R1
//  657 	uint8 temp;
//  658 	WriteReg(0x22,0x0f);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0xf
        MOV     R1,#0x22
        LCALL   ??WriteReg?relay
//  659 	buff[0] = RF_CMD_READ;   //0x30
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x30
        MOVX    @DPTR,A
//  660 	buff[1] = Block_Adr;
        INC     DPTR
        MOV     A,?V0 + 0
        MOVX    @DPTR,A
//  661 	temp = Command_Send(2, buff, Transceive);
//  662 	if(temp == 0)
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x1e
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_35:
        JNZ     ??MIF_READ_0
//  663 	{			
//  664 	  return (1);  //´íÎó
??MIF_READ_1:
        MOV     R1,#0x1
        SJMP    ??MIF_READ_2
//  665 	}
//  666 
//  667 	temp = ReadReg(0x04);
//  668 	if(temp == 0x10)	
??MIF_READ_0:
        ; Setup parameters for call to function ReadReg
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_24:
        XRL     A,#0x10
        JNZ     ??MIF_READ_1
//  669 	{
//  670 	  Fifo_Read(buff);
        ; Setup parameters for call to function Fifo_Read
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??Fifo_Read?relay
//  671 	  return (0); //ÕýÈ·
        MOV     R1,#0x0
//  672 	}
??MIF_READ_2:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock90
//  673 	return (1);
//  674 }
//  675 
//  676 /****************************************************************/
//  677 /*Ãû³Æ: MIF_Write */
//  678 /*¹¦ÄÜ: ¸Ãº¯ÊýÊµÏÖÐ´MIFARE¿¨¿éµÄÊýÖµ*/
//  679 /*ÊäÈë: buff: »º³åÇøÊ×µØÖ·*/
//  680 /* Block_Adr: ¿éµØÖ·*/
//  681 /*Êä³ö: FM1702_NOTAGERR: ÎÞ¿¨*/
//  682 /* FM1702_BYTECOUNTERR: ½ÓÊÕ×Ö½Ú´íÎó*/
//  683 /* FM1702_NOTAUTHERR: Î´¾­È¨ÍþÈÏÖ¤*/
//  684 /* FM1702_EMPTY: Êý¾ÝÒç³ö´íÎó*/
//  685 /* FM1702_CRCERR: CRCÐ£Ñé´í*/
//  686 /* FM1702_PARITYERR: ÆæÅ¼Ð£Ñé´í*/
//  687 /* FM1702_WRITEERR: Ð´¿¨¿éÊý¾Ý³ö´í*/
//  688 /* FM1702_OK: Ó¦´ðÕýÈ·*/
//  689 /****************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  690 uint8 MIF_Write(uint8 *buff, uint8 Block_Adr)
MIF_Write:
        CFI Block cfiBlock91 Using cfiCommon0
        CFI Function MIF_Write
        CODE
//  691 {
        FUNCALL MIF_Write, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, WriteReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, Fifo_Read
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, Command_Send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL MIF_Write, ReadReg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 2,R1
//  692 	uint8	temp;
//  693 	uint8	*F_buff;
//  694 
//  695 	WriteReg(0x23,0x63);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x63
        MOV     R1,#0x23
        LCALL   ??WriteReg?relay
//  696 	WriteReg(0x12,0x3f);
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x3f
        MOV     R1,#0x12
        LCALL   ??WriteReg?relay
//  697 	F_buff = buff + 0x10;
        MOV     A,R6
        ADD     A,#0x10
        MOV     ?V0 + 0,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
//  698 	WriteReg(0x22,0x07);    /* Note: this line is for 1702, different from RC500*/
        ; Setup parameters for call to function WriteReg
        MOV     R2,#0x7
        MOV     R1,#0x22
        LCALL   ??WriteReg?relay
//  699 	*F_buff = RF_CMD_WRITE;
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOV     A,#-0x60
        MOVX    @DPTR,A
//  700 	*(F_buff + 1) = Block_Adr;
        INC     DPTR
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
//  701 	temp = Command_Send(2, F_buff, Transceive);
//  702 	if(temp == FALSE)
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x1e
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_36:
        JNZ     ??MIF_Write_0
//  703 	{
//  704 		return(1);
        MOV     R1,#0x1
//  705 	}
??MIF_Write_1:
        LJMP    ?Subroutine4 & 0xFFFF
//  706 
//  707 	temp = ReadReg(0x04);
//  708 	if(temp == 0)
??MIF_Write_0:
        ; Setup parameters for call to function ReadReg
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_25:
        JNZ     ??MIF_Write_2
//  709 	{
//  710 		return(FM1702_BYTECOUNTERR);
        MOV     R1,#0xc
        SJMP    ??MIF_Write_1
//  711 	}
//  712 
//  713 	Fifo_Read(F_buff);
??MIF_Write_2:
        ; Setup parameters for call to function Fifo_Read
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??Fifo_Read?relay
//  714 	temp = *F_buff;
//  715 	switch(temp)
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        JZ      ??MIF_Write_3
        DEC     A
        JZ      ??MIF_Write_4
        ADD     A,#-0x3
        JZ      ??MIF_Write_5
        DEC     A
        JZ      ??MIF_Write_6
        ADD     A,#-0x5
        JZ      ??MIF_Write_7
        SJMP    ??MIF_Write_8
//  716 	{
//  717 	case 0x00:	return(FM1702_NOTAUTHERR);	
??MIF_Write_3:
        MOV     R1,#0xa
        SJMP    ??MIF_Write_1
//  718 	case 0x04:	return(FM1702_EMPTY);
??MIF_Write_5:
        MOV     R1,#0x3
        SJMP    ??MIF_Write_1
//  719 	case 0x0a:	break;
//  720 	case 0x01:	return(FM1702_CRCERR);
//  721 	case 0x05:	return(FM1702_PARITYERR);
//  722 	default:	return(FM1702_WRITEERR);
//  723 	}
//  724 
//  725 	temp = Command_Send(16, buff, Transceive);
//  726 	if(temp == TRUE)
??MIF_Write_7:
        ; Setup parameters for call to function Command_Send
        MOV     R4,#0x1e
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        MOV     R1,#0x10
        LCALL   ??Subroutine22_0 & 0xFFFF
??CrossCallReturnLabel_42:
        XRL     A,#0x1
        JNZ     ??MIF_Write_9
//  727 	{
//  728 		return(0);
        MOV     R1,#0x0
        SJMP    ??MIF_Write_1
//  729 	}
??MIF_Write_4:
        MOV     R1,#0x2
        SJMP    ??MIF_Write_1
??MIF_Write_6:
        MOV     R1,#0x5
        SJMP    ??MIF_Write_1
//  730 	else
//  731 	{
//  732 		temp = ReadReg(0x0a);
??MIF_Write_9:
        ; Setup parameters for call to function ReadReg
        MOV     R1,#0xa
        LCALL   ??Subroutine20_0 & 0xFFFF
//  733 		if((temp & 0x02) == 0x02)
??CrossCallReturnLabel_33:
        MOV     C,0xE0 /* A   */.1
        JC      ??MIF_Write_6
//  734 			return(FM1702_PARITYERR);
//  735 		else if((temp & 0x04) == 0x04)
        MOV     C,0xE0 /* A   */.2
        JNC     ??MIF_Write_10
//  736 			return(FM1702_FRAMINGERR);
        MOV     R1,#0x14
        SJMP    ??MIF_Write_1
//  737 		else if((temp & 0x08) == 0x08)
??MIF_Write_10:
        MOV     C,0xE0 /* A   */.3
        JC      ??MIF_Write_4
//  738 			return(FM1702_CRCERR);
//  739 		else
//  740 			return(FM1702_WRITEERR);
//  741 	}
??MIF_Write_8:
        MOV     R1,#0xf
        SJMP    ??MIF_Write_1
        CFI EndBlock cfiBlock91
//  742 }
//  743 
//  744 /*********************************************************************
//  745  * @fn      SerialApp_Init
//  746  *
//  747  * @brief   This is called during OSAL tasks' initialization.
//  748  *
//  749  * @param   task_id - the Task ID assigned by OSAL.
//  750  *
//  751  * @return  none
//  752  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  753 void SerialApp_Init( uint8 task_id )
SerialApp_Init:
        CFI Block cfiBlock92 Using cfiCommon0
        CFI Function SerialApp_Init
        CODE
//  754 {
        FUNCALL SerialApp_Init, afRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_Init, RegisterForKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_Init, HalUARTInitSPI
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_Init, InitFM1702SL
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_Init, HalUARTOpen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 29
        MOV     A,#-0x1d
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     A,R1
        MOV     R6,A
//  755   halUARTCfg_t uartConfig;
//  756   SerialApp_TaskID = task_id;
        MOV     DPTR,#SerialApp_TaskID
        MOVX    @DPTR,A
//  757   afRegister( (endPointDesc_t *)&SerialApp_epDesc );
        ; Setup parameters for call to function afRegister
        MOV     R2,#SerialApp_epDesc & 0xff
        MOV     R3,#(SerialApp_epDesc >> 8) & 0xff
        LCALL   ??afRegister?relay
//  758   RegisterForKeys( task_id );
        ; Setup parameters for call to function RegisterForKeys
        MOV     A,R6
        MOV     R1,A
        LCALL   ??RegisterForKeys?relay
//  759   HalUARTInitSPI();
        ; Setup parameters for call to function HalUARTInitSPI
        LCALL   ??HalUARTInitSPI?relay
//  760   GPIOInit();
        ORL     0xfe,#0x4
        ORL     0xfd,#0x1
        CLR     0x80.0
//  761   InitFM1702SL();
        ; Setup parameters for call to function InitFM1702SL
        LCALL   ??InitFM1702SL?relay
//  762  
//  763   uartConfig.configured           = TRUE;              // 2x30 don't care - see uart driver.
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x1
        MOVX    @DPTR,A
//  764   uartConfig.baudRate             = SERIAL_APP_BAUD;
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x1
        MOVX    @DPTR,A
//  765   uartConfig.flowControl          = FALSE;
        INC     A
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
//  766   uartConfig.flowControlThreshold = SERIAL_APP_THRESH; // 2x30 don't care - see uart driver.
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x40
        MOVX    @DPTR,A
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
//  767   uartConfig.rx.maxBufSize        = SERIAL_APP_RX_SZ;  // 2x30 don't care - see uart driver.
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
//  768   uartConfig.tx.maxBufSize        = SERIAL_APP_TX_SZ;  // 2x30 don't care - see uart driver.
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
//  769   uartConfig.idleTimeout          = SERIAL_APP_IDLE;   // 2x30 don't care - see uart driver.
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x6
        MOVX    @DPTR,A
//  770   uartConfig.intEnable            = TRUE;              // 2x30 don't care - see uart driver.
        MOV     A,#0x16
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x1
        MOVX    @DPTR,A
//  771   uartConfig.callBackFunc         = SerialApp_CallBack;
        MOV     A,#0x1b
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#??SerialApp_CallBack?relay & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(??SerialApp_CallBack?relay >> 8) & 0xff
        MOVX    @DPTR,A
//  772   HalUARTOpen (SERIAL_APP_PORT, &uartConfig);
        ; Setup parameters for call to function HalUARTOpen
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        MOV     R1,#0x0
        LCALL   ??HalUARTOpen?relay
//  773   
//  774   UART0_Format.Header_1 = 0xee;
        MOV     DPTR,#UART0_Format
        LCALL   ?Subroutine12 & 0xFFFF
//  775   UART0_Format.Header_2 = 0xcc;
//  776   UART0_Format.NodeSeq  = 0x01;
//  777   UART0_Format.NodeID   = RFID_1356;
//  778   UART0_Format.Tailer   = 0xff;
??CrossCallReturnLabel_6:
        MOV     DPTR,#UART0_Format + 15
        MOV     A,#-0x1
        MOVX    @DPTR,A
//  779   
//  780   SerialApp_TxAddr.addrMode =(afAddrMode_t)Addr16Bit;//·¢ËÍµØÖ·³õÊ¼»¯
        MOV     DPTR,#SerialApp_TxAddr + 8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  781   SerialApp_TxAddr.endPoint = SERIALAPP_ENDPOINT;
        INC     DPTR
        MOV     A,#0xb
        MOVX    @DPTR,A
//  782   SerialApp_TxAddr.addr.shortAddr = 0x0000;
        MOV     DPTR,#SerialApp_TxAddr
        CLR     A
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
//  783   TXPOWER = 0xf5;
        MOV     DPTR,#0x6190
        MOV     A,#-0xb
        MOVX    @DPTR,A
//  784 }
        MOV     A,#0x1d
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock92
        REQUIRE P1DIR
        REQUIRE P0DIR
        REQUIRE _A_P0
//  785 
//  786 /*********************************************************************
//  787  * @fn      SerialApp_ProcessEvent
//  788  *
//  789  * @brief   Generic Application Task event processor.
//  790  *
//  791  * @param   task_id  - The OSAL assigned task ID.
//  792  * @param   events   - Bit map of events to process.
//  793  *
//  794  * @return  Event flags of all unprocessed events.
//  795  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  796 UINT16 SerialApp_ProcessEvent( uint8 task_id, UINT16 events )
SerialApp_ProcessEvent:
        CFI Block cfiBlock93 Using cfiCommon0
        CFI Function SerialApp_ProcessEvent
        CODE
//  797 {
        FUNCALL SerialApp_ProcessEvent, SerialApp_OTAData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, SerialApp_ProcessMSGCmd
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, SerialApp_OTAData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, Request
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, ReadCardNum
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, block_numset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, MIF_READ
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, Onboard_wait
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, Onboard_wait
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  798   (void)task_id;  // Intentionally unreferenced parameter
//  799   
//  800   if ( events & SYS_EVENT_MSG )
        ANL     A,#0x80
        JNZ     ??SerialApp_ProcessEvent_0
//  801   {
//  802     afIncomingMSGPacket_t *MSGpkt;
//  803 
//  804     while ( (MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SerialApp_TaskID )) )
//  805     {
//  806       switch ( MSGpkt->hdr.event )
//  807       {         
//  808       case KEY_CHANGE:
//  809         //SerialApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
//  810         break;
//  811 
//  812       case AF_INCOMING_MSG_CMD:
//  813         SerialApp_ProcessMSGCmd( MSGpkt );
//  814         break;
//  815 
//  816       case ZDO_STATE_CHANGE:
//  817           SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
//  818           if(SampleApp_NwkState == DEV_END_DEVICE) //ÅÐ¶¨µ±Ç°Éè±¸ÀàÐÍ
//  819           {
//  820             HalLedSet(HAL_LED_1,HAL_LED_MODE_ON);
//  821             HalLedBlink(HAL_LED_2,5,50,500);
//  822             osal_set_event(SerialApp_TaskID, PERIOD_EVT); //Æô¶¯ÖÜÆÚÏûÏ¢
//  823             osal_set_event(SerialApp_TaskID, RFID_EVT);
//  824           }
//  825         break;
//  826       default:
//  827         break;
//  828       }
//  829 
//  830       osal_msg_deallocate( (uint8 *)MSGpkt );
//  831     }
//  832 
//  833     return ( events ^ SYS_EVENT_MSG );
//  834   }
//  835   
//  836   if ( events & PERIOD_EVT ) //ÖÜÆÚÏûÏ¢´¦Àí
        MOV     A,R6
        ANL     A,#0x2
        JNZ     $+5
        LJMP    ??SerialApp_ProcessEvent_1 & 0xFFFF
//  837   {
//  838     UART0_Format.Command = MSG_PERIOD;
        MOV     DPTR,#UART0_Format + 4
        MOV     A,#-0x56
        MOVX    @DPTR,A
//  839     UART0_Format.Data[0] = 0x00;
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
//  840     UART0_Format.Data[1] = 0x00; 
        INC     DPTR
        MOVX    @DPTR,A
//  841     UART0_Format.Data[2] = 0x00;
        INC     DPTR
        MOVX    @DPTR,A
//  842     UART0_Format.Data[3] = 0x00; 
        INC     DPTR
        MOVX    @DPTR,A
//  843     UART0_Format.Data[4] = 0x00;
        INC     DPTR
        MOVX    @DPTR,A
//  844     UART0_Format.Data[5] = 0x00; 
        INC     DPTR
        MOVX    @DPTR,A
//  845     SerialApp_OTAData(&SerialApp_TxAddr, SERIALAPP_CLUSTERID1, &UART0_Format, sizeof(UART_Format));
        ; Setup parameters for call to function SerialApp_OTAData
        MOV     ?V0 + 0,#0x10
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 13)
        MOV     R4,#UART0_Format & 0xff
        MOV     R5,#(UART0_Format >> 8) & 0xff
        MOV     R1,#0x1
        MOV     R2,#SerialApp_TxAddr & 0xff
        MOV     R3,#(SerialApp_TxAddr >> 8) & 0xff
        LCALL   ??SerialApp_OTAData?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
//  846     osal_start_timerEx(SerialApp_TaskID, PERIOD_EVT, 5000);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x78
        MOV     R5,#0x13
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#SerialApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  847     return ( events ^ PERIOD_EVT );
        MOV     A,R6
        XRL     A,#0x2
??SerialApp_ProcessEvent_2:
        MOV     R2,A
        MOV     A,R7
??SerialApp_ProcessEvent_3:
        MOV     R3,A
        LJMP    ??SerialApp_ProcessEvent_4 & 0xFFFF
//  848   }
??SerialApp_ProcessEvent_5:
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#SampleApp_NwkState
        MOVX    @DPTR,A
        XRL     A,#0x6
        JNZ     ??CrossCallReturnLabel_53
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedSet?relay
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0xc
        MOV     R5,#0x1
        MOV     R3,#0x32
        MOV     R2,#0x5
        MOV     R1,#0x2
        LCALL   ??HalLedBlink?relay
        ; Setup parameters for call to function osal_set_event
        MOV     R2,#0x2
        LCALL   ??Subroutine25_0 & 0xFFFF
??CrossCallReturnLabel_52:
        ; Setup parameters for call to function osal_set_event
        MOV     R2,#0x4
        LCALL   ??Subroutine25_0 & 0xFFFF
??CrossCallReturnLabel_53:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_msg_deallocate?relay
??SerialApp_ProcessEvent_0:
        ; Setup parameters for call to function osal_msg_receive
        MOV     DPTR,#SerialApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_receive?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     A,R2
        ORL     A,?V0 + 1
        JZ      ??SerialApp_ProcessEvent_6
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        ADD     A,#-0x1a
        JZ      ??SerialApp_ProcessEvent_7
        ADD     A,#0x49
        JZ      ??SerialApp_ProcessEvent_5
        SJMP    ??CrossCallReturnLabel_53
??SerialApp_ProcessEvent_7:
        ; Setup parameters for call to function SerialApp_ProcessMSGCmd
        LCALL   ??SerialApp_ProcessMSGCmd?relay
        SJMP    ??CrossCallReturnLabel_53
??SerialApp_ProcessEvent_6:
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x80
        SJMP    ??SerialApp_ProcessEvent_3
//  849   
//  850   if ( events & SERIALAPP_SEND_EVT ) //·¢ËÍRFÏûÏ¢
??SerialApp_ProcessEvent_1:
        MOV     A,R6
        MOV     C,0xE0 /* A   */.0
        JNC     ??SerialApp_ProcessEvent_8
//  851   {
//  852     SerialApp_OTAData(&SerialApp_TxAddr,SERIALAPP_CLUSTERID1, &UART0_Format, sizeof(UART_Format));
        ; Setup parameters for call to function SerialApp_OTAData
        MOV     ?V0 + 0,#0x10
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 13)
        MOV     R4,#UART0_Format & 0xff
        MOV     R5,#(UART0_Format >> 8) & 0xff
        MOV     R1,#0x1
        MOV     R2,#SerialApp_TxAddr & 0xff
        MOV     R3,#(SerialApp_TxAddr >> 8) & 0xff
        LCALL   ??SerialApp_OTAData?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
//  853     return ( events ^ SERIALAPP_SEND_EVT );
        MOV     A,R6
        XRL     A,#0x1
        LJMP    ??SerialApp_ProcessEvent_2 & 0xFFFF
//  854   }
//  855   
//  856   if ( events & RFID_EVT )  
??SerialApp_ProcessEvent_8:
        ANL     A,#0x4
        JNZ     $+5
        LJMP    ??SerialApp_ProcessEvent_9 & 0xFFFF
//  857   {
//  858     uint8 state;
//  859     static uint8 hasCardOld = FALSE;
//  860     static uint8 hasCardNow = FALSE;
//  861     hasCardOld = hasCardNow;
        MOV     DPTR,#??hasCardNow
        MOVX    A,@DPTR
        MOV     DPTR,#??hasCardOld
        MOVX    @DPTR,A
//  862     hasCardNow = Request(RF_CMD_REQUEST_STD);
        ; Setup parameters for call to function Request
        MOV     R1,#0x26
        LCALL   ??Request?relay
        MOV     A,R1
        MOV     DPTR,#??hasCardNow
        MOVX    @DPTR,A
//  863     if(hasCardOld != hasCardNow) //·µ»Ø1ËµÃ÷¼ì²âµ½¿¨
        MOV     DPTR,#??hasCardOld
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     DPTR,#??hasCardNow
        MOVX    A,@DPTR
        XRL     A,R0
        JZ      ??SerialApp_ProcessEvent_10
//  864     {
//  865       state = ReadCardNum(); //¶Á¿¨ºÅ£¬´æ´¢ÔÚCardNoÊý×éÀïÃæ
//  866       if(!state) //¶Á¿¨ÕýÈ·  
        ; Setup parameters for call to function ReadCardNum
        LCALL   ??ReadCardNum?relay
        MOV     A,R1
        JNZ     ??SerialApp_ProcessEvent_11
//  867       {
//  868         BEEP = 1; 
        SETB    0x80.0
//  869         UART0_Format.Command = SEND;
        MOV     DPTR,#UART0_Format + 4
        MOV     A,#0x1
        MOVX    @DPTR,A
//  870         UART0_Format.Data[0] = CardNo[0]; //d2345678
        MOV     DPTR,#CardNo
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 5
        MOVX    @DPTR,A
//  871         UART0_Format.Data[1] = CardNo[1]; 
        MOV     DPTR,#CardNo + 1
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 6
        MOVX    @DPTR,A
//  872         UART0_Format.Data[2] = CardNo[2];
        MOV     DPTR,#CardNo + 2
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 7
        MOVX    @DPTR,A
//  873         UART0_Format.Data[3] = CardNo[3]; 
        MOV     DPTR,#CardNo + 3
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 8
        MOVX    @DPTR,A
//  874         MIF_READ(RevBuffer, block_numset(1));  //¶Á³öÊý¾Ý¿é0µÄÊý¾Ý·ÅÔÚRevBufferÀïÃæ
        ; Setup parameters for call to function MIF_READ
        ; Setup parameters for call to function block_numset
        MOV     R1,#0x1
        LCALL   ??block_numset?relay
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        LCALL   ??MIF_READ?relay
//  875         UART0_Format.Data[4] = RevBuffer[2];   //¿¨ÄÚ¿é0ÖÐµÄµÚÒ»¸ö×Ö½ÚÎª½ð¶î¸ßÎ»
        MOV     DPTR,#RevBuffer + 2
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 9
        MOVX    @DPTR,A
//  876         UART0_Format.Data[5] = RevBuffer[3];   //¿¨ÄÚ¿é0ÖÐµÄµÚ¶þ¸ö×Ö½ÚÎª½ð¶îµÍÎ»
        MOV     DPTR,#RevBuffer + 3
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 10
        LCALL   ?Subroutine11 & 0xFFFF
//  877         osal_set_event(SerialApp_TaskID, SERIALAPP_SEND_EVT);
//  878         MicroWait(50000);
??CrossCallReturnLabel_50:
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#0x50
        MOV     R3,#-0x3d
        LCALL   ??Onboard_wait?relay
//  879         MicroWait(50000);
        ; Setup parameters for call to function Onboard_wait
        MOV     R2,#0x50
        MOV     R3,#-0x3d
        LCALL   ??Onboard_wait?relay
//  880         BEEP = 0;
        CLR     0x80.0
        SJMP    ??SerialApp_ProcessEvent_10
//  881       }
//  882       else
//  883       {
//  884         CardNo[0] = CardNo[1] = CardNo[2] = CardNo[3] = 0;
??SerialApp_ProcessEvent_11:
        MOV     DPTR,#CardNo + 3
        CLR     A
        MOVX    @DPTR,A
        MOV     DPTR,#CardNo + 2
        MOVX    @DPTR,A
        MOV     DPTR,#CardNo + 1
        MOVX    @DPTR,A
        MOV     DPTR,#CardNo
        MOVX    @DPTR,A
//  885       }
//  886     }
//  887     osal_start_timerEx(SerialApp_TaskID, RFID_EVT, 1000);
??SerialApp_ProcessEvent_10:
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x18
        MOV     R5,#0x3
        MOV     R2,#0x4
        MOV     R3,#0x0
        MOV     DPTR,#SerialApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  888     return ( events ^ RFID_EVT );
        MOV     A,R6
        XRL     A,#0x4
        LJMP    ??SerialApp_ProcessEvent_2 & 0xFFFF
//  889   }
//  890 
//  891   return ( 0 );  // Discard unknown events.
??SerialApp_ProcessEvent_9:
        MOV     R2,#0x0
        MOV     R3,#0x0
??SerialApp_ProcessEvent_4:
        LJMP    ?Subroutine1 & 0xFFFF
        CFI EndBlock cfiBlock93
        REQUIRE _A_P0
//  892 }

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??hasCardOld:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??hasCardNow:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  893 
//  894 /*********************************************************************
//  895  * @fn      SerialApp_ProcessMSGCmd
//  896  *
//  897  * @brief   Data message processor callback. This function processes
//  898  *          any incoming data - probably from other devices. Based
//  899  *          on the cluster ID, perform the intended action.
//  900  *
//  901  * @param   pkt - pointer to the incoming message packet
//  902  *
//  903  * @return  TRUE if the 'pkt' parameter is being used and will be freed later,
//  904  *          FALSE otherwise.
//  905  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  906 void SerialApp_ProcessMSGCmd( afIncomingMSGPacket_t *pkt )  //´¦Àí½ÓÊÕµ½µÄRFÏûÏ¢
SerialApp_ProcessMSGCmd:
        CFI Block cfiBlock94 Using cfiCommon0
        CFI Function SerialApp_ProcessMSGCmd
        CODE
//  907 {
        FUNCALL SerialApp_ProcessMSGCmd, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, Request
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, ReadCardNum
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, block_numset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, MIF_READ
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, block_numset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, MIF_Write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, block_numset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, MIF_READ
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, block_numset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, MIF_Write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_ProcessMSGCmd, SerialApp_OTAData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  908   static UART_Format *receiveData;
//  909   static uint8  secNR;
//  910   uint8  status;
//  911   uint8  ctimeH,ctimeL;
//  912   uint16 ctime;
//  913   static uint16 overage;
//  914   static UART_Format Rsp;
//  915   Rsp.Header_1 = 0xee;
        MOV     DPTR,#??Rsp
        LCALL   ?Subroutine12 & 0xFFFF
//  916   Rsp.Header_2 = 0xcc;
//  917   Rsp.NodeSeq  = 0x01;
//  918   Rsp.NodeID   = RFID_1356;
//  919   Rsp.Command  = MSG_RSP;
??CrossCallReturnLabel_7:
        INC     DPTR
        MOV     A,#-0x23
        MOVX    @DPTR,A
//  920   Rsp.Tailer   = 0xff;
        MOV     DPTR,#??Rsp + 15
        MOV     A,#-0x1
        MOVX    @DPTR,A
//  921   switch ( pkt->clusterId )
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x1
        JNZ     ??SerialApp_ProcessMSGCmd_0
        INC     DPTR
        MOVX    A,@DPTR
??SerialApp_ProcessMSGCmd_0:
        JZ      $+5
        LJMP    ??SerialApp_ProcessMSGCmd_1 & 0xFFFF
//  922   {
//  923    case SERIALAPP_CLUSTERID1:  //´¦Àí¸÷¸ö´«¸ÐÆ÷½ÚÊý¾Ý    
//  924      receiveData = (UART_Format *)(pkt->cmd.Data);
        MOV     A,R2
        ADD     A,#0x22
        LCALL   ??Subroutine23_0 & 0xFFFF
??CrossCallReturnLabel_47:
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#??receiveData
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  925      HalLedBlink(HAL_LED_1,1,50,200);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x38
        MOV     R5,#0x0
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedBlink?relay
//  926      if((receiveData->Header_1==0xcc)&&(receiveData->Header_2==0xee)&&(receiveData->Tailer==0xff)) //Ð£Ñé°üÍ·°üÎ²
        LCALL   ?Subroutine18 & 0xFFFF
??CrossCallReturnLabel_16:
        MOVX    A,@DPTR
        XRL     A,#0xcc
        JZ      $+5
        LJMP    ??SerialApp_ProcessMSGCmd_1 & 0xFFFF
        MOV     DPTR,#??receiveData + 1
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0xee
        JZ      $+5
        LJMP    ??SerialApp_ProcessMSGCmd_1 & 0xFFFF
        MOV     DPTR,#??receiveData
        MOVX    A,@DPTR
        ADD     A,#0xf
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        CPL     A
        JZ      $+5
        LJMP    ??SerialApp_ProcessMSGCmd_1 & 0xFFFF
//  927      {
//  928        if(receiveData->NodeID == RFID_1356) //ÊÕµ½Êý¾ÝºóÍ¨¹ý´®¿Ú·¢ËÍ¸øRFIDÄ£¿é
        LCALL   ?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_4:
        MOVX    A,@DPTR
        XRL     A,#0x10
        JZ      $+5
        LJMP    ??SerialApp_ProcessMSGCmd_1 & 0xFFFF
//  929        {
//  930          HalLedSet(HAL_LED_2, HAL_LED_MODE_OFF);
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x0
        MOV     R1,#0x2
        LCALL   ??HalLedSet?relay
//  931  	 do{	
//  932 	     status = Request(RF_CMD_REQUEST_STD);
//  933          }while(!status);	
??SerialApp_ProcessMSGCmd_2:
        ; Setup parameters for call to function Request
        MOV     R1,#0x26
        LCALL   ??Request?relay
        MOV     A,R1
        JZ      ??SerialApp_ProcessMSGCmd_2
//  934          HalLedSet(HAL_LED_2, HAL_LED_MODE_ON);
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x2
        LCALL   ??HalLedSet?relay
//  935 	 status = ReadCardNum();//µÈ´ý¶ÁÈ¡¿¨ºÅ  
//  936          if(!status)
        ; Setup parameters for call to function ReadCardNum
        LCALL   ??ReadCardNum?relay
        MOV     A,R1
        JNZ     ??SerialApp_ProcessMSGCmd_1
//  937          {
//  938            if(receiveData->Command == INCREASE)
        LCALL   ?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_5:
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x2
        JNZ     ??SerialApp_ProcessMSGCmd_3
//  939            {         
//  940              secNR  = block_numset(1);            //²Ù×÷Êý¾Ý¿é1
        ; Setup parameters for call to function block_numset
        LCALL   ?Subroutine9 & 0xFFFF
//  941              MIF_READ(RevBuffer, secNR);          //¶Á³öÊý¾Ý¿é0µÄÊý¾Ý·ÅÔÚRevBufferÀïÃæ
//  942              ctimeH = RevBuffer[2];                 //¿¨ÄÚ¿é0ÖÐµÄµÚÒ»¸ö×Ö½ÚÎª½ð¶î¸ßÎ»
//  943              ctimeL = RevBuffer[3];                 //¿¨ÄÚ¿é0ÖÐµÄµÚ¶þ¸ö×Ö½ÚÎª½ð¶îµÍÎ»
//  944   
//  945              ctime  = ctimeH<<8|ctimeL;             //²Ù×÷½ð¶îµÄ¸ñÊ½×ª»»     				
//  946              ctime += (receiveData->Data[0]<<8)|receiveData->Data[1];//¿Û³ýÖ¸¶¨µÄ½ð¶î
//  947              overage = ctime;  //µÃµ½¿¨ÄÚÊ£ÓàµÄ½ð¶î
//  948   
//  949              RevBuffer[3] = ctime;//°ÑµÍ×Ö½ÚÐ´Èë»º´æÆ÷ÖÐ
//  950              ctime >>= 8;
//  951              RevBuffer[2] = ctime;//°Ñ¸ß×Ö½ÚÐ´Èë»º´æÆ÷ÖÐ
//  952   
//  953               /////Ð´Êý¾Ý¿éµÄ²Ù×÷////////////
//  954              secNR  = block_numset(1);      //²Ù×÷Êý¾Ý¿é1
//  955              MIF_Write(RevBuffer, secNR); //Ð´¿é
//  956            }
??CrossCallReturnLabel_2:
        ADD     A,R0
        MOV     R0,A
        MOV     A,R3
        ADDC    A,R1
        SJMP    ??SerialApp_ProcessMSGCmd_4
//  957            else if(receiveData->Command == REDUCE)
??SerialApp_ProcessMSGCmd_3:
        MOV     DPTR,#??receiveData + 1
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x3
        JNZ     ??SerialApp_ProcessMSGCmd_5
//  958            {
//  959              secNR  = block_numset(1);            //²Ù×÷Êý¾Ý¿é1
        ; Setup parameters for call to function block_numset
        LCALL   ?Subroutine9 & 0xFFFF
//  960              MIF_READ(RevBuffer,secNR);  //¶Á³öÊý¾Ý¿é0µÄÊý¾Ý·ÅÔÚRevBufferÀïÃæ
//  961              ctimeH = RevBuffer[2];                 //¿¨ÄÚ¿é0ÖÐµÄµÚÒ»¸ö×Ö½ÚÎª½ð¶î¸ßÎ»
//  962              ctimeL = RevBuffer[3];                 //¿¨ÄÚ¿é0ÖÐµÄµÚ¶þ¸ö×Ö½ÚÎª½ð¶îµÍÎ»
//  963   
//  964              ctime = ctimeH<<8|ctimeL;             //²Ù×÷½ð¶îµÄ¸ñÊ½×ª»»				
//  965              ctime -= (receiveData->Data[0]<<8)|receiveData->Data[1];//¿Û³ýÖ¸¶¨µÄ½ð¶î
??CrossCallReturnLabel_3:
        CLR     C
        SUBB    A,R0
        MOV     R0,A
        MOV     A,R3
        SUBB    A,R1
??SerialApp_ProcessMSGCmd_4:
        MOV     R1,A
//  966              overage = ctime;  //µÃµ½¿¨ÄÚÊ£ÓàµÄ½ð¶î
        MOV     DPTR,#??overage
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  967              
//  968              RevBuffer[3] = ctime;//°ÑµÍ×Ö½ÚÐ´Èë»º´æÆ÷ÖÐ
        MOV     A,R0
        MOV     DPTR,#RevBuffer + 3
        MOVX    @DPTR,A
//  969              ctime >>= 8;
//  970              RevBuffer[2] = ctime;//°Ñ¸ß×Ö½ÚÐ´Èë»º´æÆ÷ÖÐ
        MOV     A,R1
        MOV     DPTR,#RevBuffer + 2
        MOVX    @DPTR,A
//  971   
//  972               /////Ð´Êý¾Ý¿éµÄ²Ù×÷////////////
//  973              secNR  = block_numset(1);      //²Ù×÷Êý¾Ý¿é1
        ; Setup parameters for call to function block_numset
        LCALL   ?Subroutine16 & 0xFFFF
//  974              MIF_Write(RevBuffer, secNR); //Ð´¿é
//  975            }           
??CrossCallReturnLabel_12:
        LCALL   ??MIF_Write?relay
//  976            //do{
//  977            //  status = Request(RF_CMD_REQUEST_STD); 
//  978            //}//¿Û¿î³É¹¦ºóµÈ´ý°Ñ¿¨ÒÆ¿ª¸ÐÓ¦Çø
//  979            //while(status);
//  980            Rsp.Data[0] = overage>>8;
??SerialApp_ProcessMSGCmd_5:
        MOV     DPTR,#??overage + 1
        MOVX    A,@DPTR
        MOV     DPTR,#??Rsp + 5
        MOVX    @DPTR,A
//  981            Rsp.Data[1] = overage; 
        MOV     DPTR,#??overage
        MOVX    A,@DPTR
        MOV     DPTR,#??Rsp + 6
        MOVX    @DPTR,A
//  982            SerialApp_OTAData(&SerialApp_TxAddr, SERIALAPP_CLUSTERID1, &Rsp, sizeof(UART_Format));
        ; Setup parameters for call to function SerialApp_OTAData
        MOV     ?V0 + 0,#0x10
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     R4,#??Rsp & 0xff
        MOV     R5,#(??Rsp >> 8) & 0xff
        MOV     R1,#0x1
        MOV     R2,#SerialApp_TxAddr & 0xff
        MOV     R3,#(SerialApp_TxAddr >> 8) & 0xff
        LCALL   ??SerialApp_OTAData?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
//  983          }
//  984        }
//  985      }
//  986     break;
//  987 
//  988   case SERIALAPP_CLUSTERID2:
//  989     break;
//  990 
//  991     default:
//  992       break;
//  993   }
//  994 }
??SerialApp_ProcessMSGCmd_1:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock94

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine12:
        CFI Block cfiCond95 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_6
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 38)
        CFI Block cfiCond96 Using cfiCommon0
        CFI (cfiCond96) NoFunction
        CFI (cfiCond96) Conditional ??CrossCallReturnLabel_7
        CFI (cfiCond96) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond96) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond96) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond96) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond96) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond96) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond96) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond96) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond96) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond96) CFA_SP SP+0
        CFI (cfiCond96) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker97 Using cfiCommon1
        CFI (cfiPicker97) NoFunction
        CFI (cfiPicker97) Picker
        MOV     A,#-0x12
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#-0x34
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x10
        MOVX    @DPTR,A
        RET
        CFI EndBlock cfiCond95
        CFI EndBlock cfiCond96
        CFI EndBlock cfiPicker97

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine10:
        CFI Block cfiCond98 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_4
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond99 Using cfiCommon0
        CFI (cfiCond99) NoFunction
        CFI (cfiCond99) Conditional ??CrossCallReturnLabel_5
        CFI (cfiCond99) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond99) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond99) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond99) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond99) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond99) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond99) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond99) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond99) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond99) CFA_SP SP+0
        CFI (cfiCond99) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker100 Using cfiCommon1
        CFI (cfiPicker100) NoFunction
        CFI (cfiPicker100) Picker
        LCALL   ?Subroutine17 & 0xFFFF
??CrossCallReturnLabel_15:
        RET
        CFI EndBlock cfiCond98
        CFI EndBlock cfiCond99
        CFI EndBlock cfiPicker100

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine17:
        CFI Block cfiCond101 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_4
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond102 Using cfiCommon0
        CFI (cfiCond102) NoFunction
        CFI (cfiCond102) Conditional ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_5
        CFI (cfiCond102) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond102) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond102) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond102) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond102) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond102) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond102) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond102) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond102) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond102) CFA_SP SP+0
        CFI (cfiCond102) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond103 Using cfiCommon0
        CFI (cfiCond103) NoFunction
        CFI (cfiCond103) Conditional ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_2
        CFI (cfiCond103) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond103) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond103) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond103) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond103) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond103) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond103) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond103) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond103) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond103) CFA_SP SP+0
        CFI (cfiCond103) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond104 Using cfiCommon0
        CFI (cfiCond104) NoFunction
        CFI (cfiCond104) Conditional ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_3
        CFI (cfiCond104) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond104) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond104) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond104) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond104) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond104) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond104) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond104) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond104) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond104) CFA_SP SP+0
        CFI (cfiCond104) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker105 Using cfiCommon1
        CFI (cfiPicker105) NoFunction
        CFI (cfiPicker105) Picker
        LCALL   ?Subroutine18 & 0xFFFF
??CrossCallReturnLabel_17:
        INC     DPTR
        INC     DPTR
        INC     DPTR
        RET
        CFI EndBlock cfiCond101
        CFI EndBlock cfiCond102
        CFI EndBlock cfiCond103
        CFI EndBlock cfiCond104
        CFI EndBlock cfiPicker105

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine18:
        CFI Block cfiCond106 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_16
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond107 Using cfiCommon0
        CFI (cfiCond107) NoFunction
        CFI (cfiCond107) Conditional ??CrossCallReturnLabel_17, ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_4
        CFI (cfiCond107) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond107) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond107) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond107) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond107) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond107) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond107) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond107) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond107) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond107) CFA_SP SP+0
        CFI (cfiCond107) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond108 Using cfiCommon0
        CFI (cfiCond108) NoFunction
        CFI (cfiCond108) Conditional ??CrossCallReturnLabel_17, ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_5
        CFI (cfiCond108) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond108) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond108) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond108) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond108) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond108) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond108) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond108) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond108) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond108) CFA_SP SP+0
        CFI (cfiCond108) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond109 Using cfiCommon0
        CFI (cfiCond109) NoFunction
        CFI (cfiCond109) Conditional ??CrossCallReturnLabel_17, ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_2
        CFI (cfiCond109) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond109) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond109) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond109) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond109) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond109) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond109) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond109) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond109) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond109) CFA_SP SP+0
        CFI (cfiCond109) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond110 Using cfiCommon0
        CFI (cfiCond110) NoFunction
        CFI (cfiCond110) Conditional ??CrossCallReturnLabel_17, ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_3
        CFI (cfiCond110) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond110) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond110) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond110) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond110) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond110) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond110) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond110) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond110) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond110) CFA_SP SP+0
        CFI (cfiCond110) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker111 Using cfiCommon1
        CFI (cfiPicker111) NoFunction
        CFI (cfiPicker111) Picker
        MOV     DPTR,#??receiveData
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        RET
        CFI EndBlock cfiCond106
        CFI EndBlock cfiCond107
        CFI EndBlock cfiCond108
        CFI EndBlock cfiCond109
        CFI EndBlock cfiCond110
        CFI EndBlock cfiPicker111

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine9:
        CFI Block cfiCond112 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_2
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond113 Using cfiCommon0
        CFI (cfiCond113) NoFunction
        CFI (cfiCond113) Conditional ??CrossCallReturnLabel_3
        CFI (cfiCond113) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond113) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond113) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond113) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond113) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond113) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond113) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond113) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond113) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond113) CFA_SP SP+0
        CFI (cfiCond113) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker114 Using cfiCommon1
        CFI (cfiPicker114) NoFunction
        CFI (cfiPicker114) Picker
        LCALL   ?Subroutine16 & 0xFFFF
??CrossCallReturnLabel_13:
        LCALL   ??MIF_READ?relay
        MOV     DPTR,#RevBuffer + 2
        MOVX    A,@DPTR
        MOV     R1,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     A,R1
        MOV     R3,A
        LCALL   ?Subroutine17 & 0xFFFF
??CrossCallReturnLabel_14:
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#??receiveData
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R4
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     A,R2
        RET
        CFI EndBlock cfiCond112
        CFI EndBlock cfiCond113
        CFI EndBlock cfiPicker114

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine16:
        CFI Block cfiCond115 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_12
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond116 Using cfiCommon0
        CFI (cfiCond116) NoFunction
        CFI (cfiCond116) Conditional ??CrossCallReturnLabel_13, ??CrossCallReturnLabel_2
        CFI (cfiCond116) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond116) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond116) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond116) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond116) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond116) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond116) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond116) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond116) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond116) CFA_SP SP+0
        CFI (cfiCond116) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond117 Using cfiCommon0
        CFI (cfiCond117) NoFunction
        CFI (cfiCond117) Conditional ??CrossCallReturnLabel_13, ??CrossCallReturnLabel_3
        CFI (cfiCond117) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond117) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond117) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond117) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond117) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond117) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond117) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond117) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond117) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond117) CFA_SP SP+0
        CFI (cfiCond117) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker118 Using cfiCommon1
        CFI (cfiPicker118) NoFunction
        CFI (cfiPicker118) Picker
        MOV     R1,#0x1
        LCALL   ??block_numset?relay
        MOV     A,R1
        MOV     DPTR,#??secNR
        MOVX    @DPTR,A
        ; Setup parameters for call to function MIF_Write
        ; Setup parameters for call to function MIF_READ
        ; Setup parameters for call to function MIF_READ
        MOV     R2,#RevBuffer & 0xff
        MOV     R3,#(RevBuffer >> 8) & 0xff
        RET
        CFI EndBlock cfiCond115
        CFI EndBlock cfiCond116
        CFI EndBlock cfiCond117
        CFI EndBlock cfiPicker118

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??receiveData:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??secNR:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??overage:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??Rsp:
        DS 16
        REQUIRE __INIT_XDATA_Z
//  995 
//  996 /*********************************************************************
//  997  */
//  998 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  999 void SerialApp_OTAData(afAddrType_t *txaddr, uint8 cID, void *p, uint8 len) //·¢ËÍº¯Êý
SerialApp_OTAData:
        CFI Block cfiBlock119 Using cfiCommon0
        CFI Function SerialApp_OTAData
        CODE
// 1000 {
        FUNCALL SerialApp_OTAData, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_OTAData, HalLedBlink
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R1,A
// 1001   if (afStatus_SUCCESS != AF_DataRequest(txaddr, //·¢ËÍµØÖ·
// 1002                                            (endPointDesc_t *)&SerialApp_epDesc, //endpointÃèÊö
// 1003                                             cID, //clusterID
// 1004                                             len, p, //·¢ËÍÊý¾Ý°üµÄ³¤¶ÈºÍµØÖ·
// 1005                                             &SerialApp_MsgID, 0, AF_DEFAULT_RADIUS))
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1e
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 11)
        MOV     ?V0 + 0,#SerialApp_MsgID & 0xff
        MOV     ?V0 + 1,#(SerialApp_MsgID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 15)
        MOV     ?V0 + 0,R1
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0 + 0,R6
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0x0
        MOV     R4,#SerialApp_epDesc & 0xff
        MOV     R5,#(SerialApp_epDesc >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     A,R1
        JNZ     ??SerialApp_OTAData_0
// 1006   {
// 1007   }
// 1008   else
// 1009   {
// 1010     HalLedBlink(HAL_LED_1,1,50,200);
        ; Setup parameters for call to function HalLedBlink
        MOV     R4,#-0x38
        MOV     R5,#0x0
        MOV     R3,#0x32
        MOV     R2,#0x1
        MOV     R1,#0x1
        LCALL   ??HalLedBlink?relay
// 1011   }
// 1012 }
??SerialApp_OTAData_0:
        LJMP    ?Subroutine3 & 0xFFFF
        CFI EndBlock cfiBlock119
// 1013 
// 1014 /*********************************************************************
// 1015  * @fn      SerialApp_CallBack
// 1016  *
// 1017  * @brief   Send data OTA.
// 1018  *
// 1019  * @param   port - UART port.
// 1020  * @param   event - the UART port event flag.
// 1021  *
// 1022  * @return  none
// 1023  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1024 static void SerialApp_CallBack(uint8 port, uint8 event)
SerialApp_CallBack:
        CFI Block cfiBlock120 Using cfiCommon0
        CFI Function SerialApp_CallBack
        CODE
// 1025 {
        FUNCALL SerialApp_CallBack, HalUARTRead
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SerialApp_CallBack, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
// 1026   (void)port;
// 1027 
// 1028   if ((event & (HAL_UART_RX_FULL | HAL_UART_RX_ABOUT_FULL | HAL_UART_RX_TIMEOUT)) && !SerialApp_TxLen) //´®¿Ú½ÓÊÕµ½Êý¾Ý°ü
        MOV     A,#0x7
        ANL     A,R6
        JZ      ??SerialApp_CallBack_0
        MOV     DPTR,#SerialApp_TxLen
        MOVX    A,@DPTR
        JNZ     ??SerialApp_CallBack_0
// 1029   {
// 1030     SerialApp_TxLen = HalUARTRead(SERIAL_APP_PORT, SerialApp_TxBuf, SERIAL_APP_TX_MAX); //½«´®¿ÚÊý¾Ý¶ÁÈëbuf
        ; Setup parameters for call to function HalUARTRead
        MOV     R4,#0x14
        MOV     R5,#0x0
        MOV     R2,#SerialApp_TxBuf & 0xff
        MOV     R3,#(SerialApp_TxBuf >> 8) & 0xff
        MOV     R1,#0x0
        LCALL   ??HalUARTRead?relay
        MOV     A,R2
        MOV     DPTR,#SerialApp_TxLen
        MOVX    @DPTR,A
// 1031     if(SerialApp_TxLen)
        JZ      ??CrossCallReturnLabel_51
// 1032     {
// 1033       if(SerialApp_TxBuf[0] == 0xaa && SerialApp_TxBuf[1] == 0xbb) //Ð£Ñé°üÍ·
        MOV     DPTR,#SerialApp_TxBuf
        MOVX    A,@DPTR
        XRL     A,#0xaa
        JNZ     ??CrossCallReturnLabel_51
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0xbb
        JNZ     ??CrossCallReturnLabel_51
// 1034       {
// 1035         if(SerialApp_TxBuf[2] == 0x06 && SerialApp_TxBuf[3] == 0x20) //¶ÁÈ¡¿¨ºÅ
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??CrossCallReturnLabel_51
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x20
        JNZ     ??CrossCallReturnLabel_51
// 1036         {
// 1037           UART0_Format.Command = 0x01; //µÚÒ»¸öÃüÁî
        MOV     DPTR,#UART0_Format + 4
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1038           UART0_Format.Data[0] = SerialApp_TxBuf[4];
        MOV     DPTR,#SerialApp_TxBuf + 4
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 5
        MOVX    @DPTR,A
// 1039           UART0_Format.Data[1] = SerialApp_TxBuf[5];   
        MOV     DPTR,#SerialApp_TxBuf + 5
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 6
        MOVX    @DPTR,A
// 1040           UART0_Format.Data[2] = SerialApp_TxBuf[6];
        MOV     DPTR,#SerialApp_TxBuf + 6
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 7
        MOVX    @DPTR,A
// 1041           UART0_Format.Data[3] = SerialApp_TxBuf[7]; 
        MOV     DPTR,#SerialApp_TxBuf + 7
        MOVX    A,@DPTR
        MOV     DPTR,#UART0_Format + 8
        LCALL   ?Subroutine11 & 0xFFFF
// 1042           osal_set_event(SerialApp_TaskID, SERIALAPP_SEND_EVT);
// 1043         }
// 1044       }
// 1045     }
// 1046     SerialApp_TxLen = 0;  
??CrossCallReturnLabel_51:
        MOV     DPTR,#SerialApp_TxLen
        CLR     A
        MOVX    @DPTR,A
// 1047   }
// 1048 }
??SerialApp_CallBack_0:
        LJMP    ??Subroutine21_0 & 0xFFFF
        CFI EndBlock cfiBlock120

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine11:
        CFI Block cfiCond121 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_50
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond122 Using cfiCommon0
        CFI (cfiCond122) NoFunction
        CFI (cfiCond122) Conditional ??CrossCallReturnLabel_51
        CFI (cfiCond122) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond122) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond122) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond122) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond122) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond122) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond122) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond122) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond122) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond122) CFA_SP SP+0
        CFI (cfiCond122) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker123 Using cfiCommon1
        CFI (cfiPicker123) NoFunction
        CFI (cfiPicker123) Picker
        MOVX    @DPTR,A
        ; Setup parameters for call to function osal_set_event
        ; Setup parameters for call to function osal_set_event
        MOV     R2,#0x1
        CFI EndBlock cfiCond121
        CFI EndBlock cfiCond122
        CFI EndBlock cfiPicker123
        REQUIRE ??Subroutine25_0
        ; // Fall through to label ??Subroutine25_0

        RSEG BANKED_CODE:CODE:NOROOT(0)
??Subroutine25_0:
        CFI Block cfiCond124 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_52
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond125 Using cfiCommon0
        CFI (cfiCond125) NoFunction
        CFI (cfiCond125) Conditional ??CrossCallReturnLabel_53
        CFI (cfiCond125) R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond125) VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond125) V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond125) V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond125) V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond125) V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond125) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond125) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond125) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond125) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond125) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond125) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond125) CFA_SP SP+0
        CFI (cfiCond125) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond126 Using cfiCommon0
        CFI (cfiCond126) NoFunction
        CFI (cfiCond126) Conditional ??CrossCallReturnLabel_50
        CFI (cfiCond126) R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond126) VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond126) V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond126) V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond126) V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond126) V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond126) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond126) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond126) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond126) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond126) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond126) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond126) CFA_SP SP+0
        CFI (cfiCond126) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond127 Using cfiCommon0
        CFI (cfiCond127) NoFunction
        CFI (cfiCond127) Conditional ??CrossCallReturnLabel_51
        CFI (cfiCond127) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond127) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond127) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond127) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond127) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond127) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond127) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond127) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond127) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond127) CFA_SP SP+0
        CFI (cfiCond127) CFA_XSP16 add(XSP16, 9)
        CFI Block cfiPicker128 Using cfiCommon1
        CFI (cfiPicker128) NoFunction
        CFI (cfiPicker128) Picker
        MOV     R3,#0x0
        MOV     DPTR,#SerialApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_set_event?relay
        RET
        CFI EndBlock cfiCond124
        CFI EndBlock cfiCond125
        CFI EndBlock cfiCond126
        CFI EndBlock cfiCond127
        CFI EndBlock cfiPicker128

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??WriteReg?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    WriteReg

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ReadReg?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ReadReg

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??FM1702BusSel?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    FM1702BusSel

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Fifo_Write?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Fifo_Write

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Fifo_Read?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Fifo_Read

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Judge_Req?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Judge_Req

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??InitFM1702SL?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    InitFM1702SL

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Clear_FIFO?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Clear_FIFO

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Command_Send?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Command_Send

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??keyto?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    keyto

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??block_numset?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    block_numset

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Request?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Request

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Load_key_CPY?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Load_key_CPY

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??M500HostCodeKey?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    M500HostCodeKey

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ReadCardNum?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ReadCardNum

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Authentication?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Authentication

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Select_Card?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Select_Card

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??Check_UID?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    Check_UID

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??AntiColl?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    AntiColl

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MIF_READ?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MIF_READ

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??MIF_Write?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    MIF_Write

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SerialApp_Init?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    SerialApp_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SerialApp_ProcessEvent?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    SerialApp_ProcessEvent

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SerialApp_ProcessMSGCmd?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    SerialApp_ProcessMSGCmd

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SerialApp_OTAData?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    SerialApp_OTAData

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SerialApp_CallBack?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    SerialApp_CallBack

        END
// 1049 
// 1050 /*********************************************************************
// 1051 *********************************************************************/
// 
// 2 588 bytes in segment BANKED_CODE
//   156 bytes in segment BANK_RELAYS
//     4 bytes in segment SFR_AN
//    22 bytes in segment XDATA_ROM_C
//   104 bytes in segment XDATA_Z
// 
// 2 744 bytes of CODE  memory
//    22 bytes of CONST memory
//     0 bytes of DATA  memory (+ 4 bytes shared)
//   104 bytes of XDATA memory
//
//Errors: none
//Warnings: none
